{"ast":null,"code":"var _jsxFileName = \"/Users/parkminkyung/Desktop/git/triport/src/pages/BoardMain.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { history } from \"redux/configureStore\";\nimport { Plus } from \"media/svg/Svg\";\nimport { BoardCard } from \"components/components\";\nimport InfinityScroll from \"shared/InfinityScroll\";\nimport { actionCreators as TrilogActions } from \"redux/modules/trilog\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport Tripper from \"media/image/triport_airplane.png\";\nimport Fade from \"react-reveal/Fade\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst BoardMain = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const is_login = useSelector(state => state.user.is_login); // 로그인 여부\n\n  const trilog = useSelector(state => state.trilog.main.list); // 게시글 정보\n\n  const is_last = useSelector(state => state.trilog.main.is_last); // 무한 스크롤 - 다음 게시글이 있나 여부\n\n  const filter_type = useSelector(state => state.trilog.main.filter); // 필터\n\n  const filterRef = React.useRef(filter_type); // 필터 - 좋아요순, 최신순\n\n  const keyword = React.useRef(); // 검색어\n\n  /* 필터 기능 - 좋아요순 최신순 */\n\n  const tabToggle = () => {\n    const tab = document.getElementById(\"FilterTab\");\n    const like = document.getElementById(\"LikeText\");\n    const newest = document.getElementById(\"NewestText\");\n\n    if (filter_type === \"modifiedAt\") {\n      // 좋아요순\n      tab.style.left = \"0%\";\n      like.style.color = \"#fff\";\n      newest.style.color = \"#89ACFF\";\n      dispatch(TrilogActions.getTrilogMainFilter(\"likeNum\", keyword.current.value));\n    } else {\n      // 최신순\n      tab.style.left = \"50%\";\n      like.style.color = \"#89ACFF\";\n      newest.style.color = \"#fff\";\n      dispatch(TrilogActions.getTrilogMainFilter(\"modifiedAt\", keyword.current.value));\n    }\n\n    filterRef.current = filter_type;\n  };\n\n  React.useEffect(() => {\n    dispatch(TrilogActions.getTrilogMain(\"likeNum\", \"\"));\n  }, []);\n\n  const scroll = () => {\n    const filter_scroll = filterRef.current;\n\n    if (filter_scroll === \"likeNum\") {\n      // 좋아요순\n      dispatch(TrilogActions.getTrilogMain(\"likeNum\", \"\"));\n    } else {\n      // 최신순\n      dispatch(TrilogActions.getTrilogMain(\"modifiedAt\", \"\"));\n    }\n  };\n\n  const searchTrilog = () => {\n    dispatch(TrilogActions.getTrilogMainFilter(filter_type, keyword.current.value));\n  };\n\n  return /*#__PURE__*/_jsxDEV(BoardMainContainer, {\n    children: [is_login ? /*#__PURE__*/_jsxDEV(FloatingButton, {\n      onClick: () => {\n        history.push(\"/trilog/write\");\n      },\n      children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(SearchContainer, {\n      children: /*#__PURE__*/_jsxDEV(SearchWrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Search, {\n          type: \"text\",\n          placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n          ref: keyword,\n          onKeyPress: e => {\n            if (window.event.keyCode === 13) {\n              searchTrilog();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchIcon, {\n          onClick: searchTrilog\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Filter, {\n        children: [/*#__PURE__*/_jsxDEV(Background, {\n          id: \"FilterTab\",\n          type: filter_type\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LikeFilter, {\n          onClick: tabToggle,\n          type: filter_type,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"LikeText\",\n            children: \"\\uC88B\\uC544\\uC694\\uC21C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NewestFilter, {\n          onClick: tabToggle,\n          type: filter_type,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"NewestText\",\n            children: \"\\uCD5C\\uC2E0\\uC21C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(MoveTripper, {\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: Tripper\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardContainer, {\n      children: trilog.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(InfinityScroll, {\n          callNext: scroll,\n          is_next: is_last,\n          children: trilog.map((val, idx) => {\n            return /*#__PURE__*/_jsxDEV(Fade, {\n              bottom: true,\n              children: /*#__PURE__*/_jsxDEV(BoardCard, {\n                data: val,\n                margin: \"50px 15px 0 15px\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 21\n              }, this)\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 13\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(BoardMain, \"nCZX6+bbtoS8wLhWLdl3ojjJGlY=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BoardMain;\nconst BoardMainContainer = styled.div`\n  width: 1280px;\n  margin: 0 auto;\n  position: relative;\n\n  @media (max-width: 1270px) {\n    width: 850px;\n  }\n\n  @media (max-width: 980px) {\n    width: 700px;\n  }\n\n  @media (max-width: 768px) {\n    width: 500px;\n  }\n\n  @media (max-width: 600px) {\n    width: 300px;\n  }\n`;\n_c2 = BoardMainContainer;\nconst SearchContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 50px;\n`;\n_c3 = SearchContainer;\nconst SearchWrapper = styled.div`\n  width: 40.625rem;\n  border: 1px solid rgb(43, 97, 225, 0.6);\n  border-radius: 5px;\n  outline: none;\n  padding: 0.75rem 1.25rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0px 3px 6px #00000029;\n\n  & svg {\n    fill: rgb(43, 97, 225);\n    cursor: pointer;\n  }\n\n  @media (max-width: 980px) {\n    width: 490px;\n  }\n\n  @media (max-width: 768px) {\n    width: 384px;\n  }\n\n  @media (max-width: 600px) {\n    width: 300px;\n  }\n`;\n_c4 = SearchWrapper;\nconst Search = styled.input`\n  border: none;\n  outline: none;\n  width: 38rem;\n`;\n_c5 = Search;\nconst FilterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  align-items: center;\n  flex-direction: row-reverse;\n`;\n_c6 = FilterContainer;\nconst Background = styled.div`\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  left: ${props => props.type === \"likeNum\" ? \"0;\" : \"50%;\"};\n  background: #2b61e1 0% 0% no-repeat padding-box;\n  border-radius: 5px;\n  transition: left 0.5s;\n`;\n_c7 = Background;\nconst LikeFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"paybooc-Bold\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: ${props => props.type === \"likeNum\" ? \"#fff;\" : \"#89ACFF;\"};\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n_c8 = LikeFilter;\nconst NewestFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"paybooc-Bold\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: ${props => props.type === \"likeNum\" ? \"#89ACFF;\" : \"#fff;\"};\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n_c9 = NewestFilter;\nconst Filter = styled.div`\n  position: relative;\n  width: 14.125rem;\n  height: 2.5rem;\n  background: #f4f4f4 0% 0% no-repeat padding-box;\n  box-shadow: 0px 3px 6px #00000029;\n  border-radius: 5px;\n  display: flex;\n`;\n_c10 = Filter;\nconst CardContainer = styled.div`\n  width: 100%;\n  margin: 0 0 4.2rem 0;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n`;\n_c11 = CardContainer;\nconst FloatingButton = styled.div`\n  position: fixed;\n  bottom: 5%;\n  right: 3%;\n  width: 3.125rem;\n  height: 3.125rem;\n  cursor: pointer;\n  z-index: 99;\n\n  & svg {\n    width: 100%;\n    height: 100%;\n    fill: #2b61e1;\n  }\n\n  @media (max-width: 600px) {\n    bottom: 10%;\n    right: 3%;\n  }\n`;\n_c12 = FloatingButton;\nconst Move = keyframes`\n  0% {\n    transform : translateX(-1500%);\n  }\n  100% {\n    transform : translateX(0%);\n  }\n`;\nconst MoveTripper = styled.div`\n  animation: ${Move} 5s;\n  margin: 0 1rem 0 0;\n  & img {\n    width: 4rem;\n  }\n`;\n_c13 = MoveTripper;\nexport default BoardMain;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13;\n\n$RefreshReg$(_c, \"BoardMain\");\n$RefreshReg$(_c2, \"BoardMainContainer\");\n$RefreshReg$(_c3, \"SearchContainer\");\n$RefreshReg$(_c4, \"SearchWrapper\");\n$RefreshReg$(_c5, \"Search\");\n$RefreshReg$(_c6, \"FilterContainer\");\n$RefreshReg$(_c7, \"Background\");\n$RefreshReg$(_c8, \"LikeFilter\");\n$RefreshReg$(_c9, \"NewestFilter\");\n$RefreshReg$(_c10, \"Filter\");\n$RefreshReg$(_c11, \"CardContainer\");\n$RefreshReg$(_c12, \"FloatingButton\");\n$RefreshReg$(_c13, \"MoveTripper\");","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/pages/BoardMain.js"],"names":["React","styled","keyframes","history","Plus","BoardCard","InfinityScroll","actionCreators","TrilogActions","useDispatch","useSelector","SearchIcon","Tripper","Fade","BoardMain","props","dispatch","is_login","state","user","trilog","main","list","is_last","filter_type","filter","filterRef","useRef","keyword","tabToggle","tab","document","getElementById","like","newest","style","left","color","getTrilogMainFilter","current","value","useEffect","getTrilogMain","scroll","filter_scroll","searchTrilog","push","e","window","event","keyCode","length","map","val","idx","BoardMainContainer","div","SearchContainer","SearchWrapper","Search","input","FilterContainer","Background","type","LikeFilter","NewestFilter","Filter","CardContainer","FloatingButton","Move","MoveTripper"],"mappings":"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CuD,GAAI;AAC9B;AACA;AACA;AACA,UAAWzC,KAAD,IAAYA,KAAK,CAACgD,IAAN,KAAe,SAAf,GAA2B,IAA3B,GAAkC,MAAQ;AAChE;AACA;AACA;AACA,CARA;MAAMD,U;AAUN,MAAME,UAAU,GAAG/D,MAAM,CAACuD,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAczC,KAAD,IAAYA,KAAK,CAACgD,IAAN,KAAe,SAAf,GAA2B,OAA3B,GAAqC,UAAY;AAC1E;AACA;AACA;AACA,CAhBA;MAAMC,U;AAkBN,MAAMC,YAAY,GAAGhE,MAAM,CAACuD,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAczC,KAAD,IAAYA,KAAK,CAACgD,IAAN,KAAe,SAAf,GAA2B,UAA3B,GAAwC,OAAS;AAC1E;AACA;AACA;AACA,CAhBA;MAAME,Y;AAkBN,MAAMC,MAAM,GAAGjE,MAAM,CAACuD,GAAI;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMU,M;AAUN,MAAMC,aAAa,GAAGlE,MAAM,CAACuD,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA,CANA;OAAMW,a;AAQN,MAAMC,cAAc,GAAGnE,MAAM,CAACuD,GAAI;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnBA;OAAMY,c;AAqBN,MAAMC,IAAI,GAAGnE,SAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;AASA,MAAMoE,WAAW,GAAGrE,MAAM,CAACuD,GAAI;AAC/B,eAAea,IAAK;AACpB;AACA;AACA;AACA;AACA,CANA;OAAMC,W;AAQN,eAAexD,SAAf","sourcesContent":["import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { history } from \"redux/configureStore\";\r\nimport { Plus } from \"media/svg/Svg\";\r\nimport { BoardCard } from \"components/components\";\r\nimport InfinityScroll from \"shared/InfinityScroll\";\r\nimport { actionCreators as TrilogActions } from \"redux/modules/trilog\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Tripper from \"media/image/triport_airplane.png\";\r\nimport Fade from \"react-reveal/Fade\";\r\n\r\nconst BoardMain = (props) => {\r\n  const dispatch = useDispatch();\r\n  const is_login = useSelector((state) => state.user.is_login); // 로그인 여부\r\n  const trilog = useSelector((state) => state.trilog.main.list); // 게시글 정보\r\n  const is_last = useSelector((state) => state.trilog.main.is_last); // 무한 스크롤 - 다음 게시글이 있나 여부\r\n  const filter_type = useSelector((state) => state.trilog.main.filter); // 필터\r\n  const filterRef = React.useRef(filter_type); // 필터 - 좋아요순, 최신순\r\n  const keyword = React.useRef(); // 검색어\r\n\r\n  /* 필터 기능 - 좋아요순 최신순 */\r\n  const tabToggle = () => {\r\n    const tab = document.getElementById(\"FilterTab\");\r\n    const like = document.getElementById(\"LikeText\");\r\n    const newest = document.getElementById(\"NewestText\");\r\n\r\n    if (filter_type === \"modifiedAt\") {\r\n      // 좋아요순\r\n      tab.style.left = \"0%\";\r\n      like.style.color = \"#fff\";\r\n      newest.style.color = \"#89ACFF\";\r\n      dispatch(\r\n        TrilogActions.getTrilogMainFilter(\"likeNum\", keyword.current.value)\r\n      );\r\n    } else {\r\n      // 최신순\r\n      tab.style.left = \"50%\";\r\n      like.style.color = \"#89ACFF\";\r\n      newest.style.color = \"#fff\";\r\n      dispatch(\r\n        TrilogActions.getTrilogMainFilter(\"modifiedAt\", keyword.current.value)\r\n      );\r\n    }\r\n\r\n    filterRef.current = filter_type;\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    dispatch(TrilogActions.getTrilogMain(\"likeNum\", \"\"));\r\n  }, []);\r\n\r\n  const scroll = () => {\r\n    const filter_scroll = filterRef.current;\r\n\r\n    if (filter_scroll === \"likeNum\") {\r\n      // 좋아요순\r\n      dispatch(TrilogActions.getTrilogMain(\"likeNum\", \"\"));\r\n    } else {\r\n      // 최신순\r\n      dispatch(TrilogActions.getTrilogMain(\"modifiedAt\", \"\"));\r\n    }\r\n  };\r\n\r\n  const searchTrilog = () => {\r\n    dispatch(\r\n      TrilogActions.getTrilogMainFilter(filter_type, keyword.current.value)\r\n    );\r\n  };\r\n\r\n  return (\r\n    <BoardMainContainer>\r\n      {is_login ? (\r\n        <FloatingButton\r\n          onClick={() => {\r\n            history.push(\"/trilog/write\");\r\n          }}\r\n        >\r\n          <Plus />\r\n        </FloatingButton>\r\n      ) : (\r\n        <></>\r\n      )}\r\n      <SearchContainer>\r\n        <SearchWrapper>\r\n          <Search\r\n            type=\"text\"\r\n            placeholder=\"검색어를 입력하세요.\"\r\n            ref={keyword}\r\n            onKeyPress={(e) => {\r\n              if (window.event.keyCode === 13) {\r\n                searchTrilog();\r\n              }\r\n            }}\r\n          />\r\n          <SearchIcon onClick={searchTrilog} />\r\n        </SearchWrapper>\r\n      </SearchContainer>\r\n      <FilterContainer>\r\n        <Filter>\r\n          <Background id=\"FilterTab\" type={filter_type} />\r\n          <LikeFilter onClick={tabToggle} type={filter_type}>\r\n            <span id=\"LikeText\">좋아요순</span>\r\n          </LikeFilter>\r\n          <NewestFilter onClick={tabToggle} type={filter_type}>\r\n            <span id=\"NewestText\">최신순</span>\r\n          </NewestFilter>\r\n        </Filter>\r\n        <MoveTripper>\r\n          <img src={Tripper} />\r\n        </MoveTripper>\r\n      </FilterContainer>\r\n      <CardContainer>\r\n        {trilog.length === 0 ? (\r\n          <></>\r\n        ) : (\r\n          <>\r\n            <InfinityScroll callNext={scroll} is_next={is_last}>\r\n              {trilog.map((val, idx) => {\r\n                return (\r\n                  <Fade bottom key={idx}>\r\n                    <BoardCard data={val} margin=\"50px 15px 0 15px\" />\r\n                  </Fade>\r\n                );\r\n              })}\r\n            </InfinityScroll>\r\n          </>\r\n        )}\r\n      </CardContainer>\r\n    </BoardMainContainer>\r\n  );\r\n};\r\n\r\nconst BoardMainContainer = styled.div`\r\n  width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n\r\n  @media (max-width: 1270px) {\r\n    width: 850px;\r\n  }\r\n\r\n  @media (max-width: 980px) {\r\n    width: 700px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 500px;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 300px;\r\n  }\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 50px;\r\n`;\r\n\r\nconst SearchWrapper = styled.div`\r\n  width: 40.625rem;\r\n  border: 1px solid rgb(43, 97, 225, 0.6);\r\n  border-radius: 5px;\r\n  outline: none;\r\n  padding: 0.75rem 1.25rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  box-shadow: 0px 3px 6px #00000029;\r\n\r\n  & svg {\r\n    fill: rgb(43, 97, 225);\r\n    cursor: pointer;\r\n  }\r\n\r\n  @media (max-width: 980px) {\r\n    width: 490px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 384px;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 300px;\r\n  }\r\n`;\r\n\r\nconst Search = styled.input`\r\n  border: none;\r\n  outline: none;\r\n  width: 38rem;\r\n`;\r\n\r\nconst FilterContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: row-reverse;\r\n`;\r\n\r\nconst Background = styled.div`\r\n  position: absolute;\r\n  width: 50%;\r\n  height: 100%;\r\n  left: ${(props) => (props.type === \"likeNum\" ? \"0;\" : \"50%;\")};\r\n  background: #2b61e1 0% 0% no-repeat padding-box;\r\n  border-radius: 5px;\r\n  transition: left 0.5s;\r\n`;\r\n\r\nconst LikeFilter = styled.div`\r\n  width: 50%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n\r\n  & span {\r\n    font-family: \"paybooc-Bold\";\r\n    font-size: 14px;\r\n    letter-spacing: 0px;\r\n    color: ${(props) => (props.type === \"likeNum\" ? \"#fff;\" : \"#89ACFF;\")};\r\n    z-index: 10;\r\n    transition: color 0.3s;\r\n  }\r\n`;\r\n\r\nconst NewestFilter = styled.div`\r\n  width: 50%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  cursor: pointer;\r\n\r\n  & span {\r\n    font-family: \"paybooc-Bold\";\r\n    font-size: 14px;\r\n    letter-spacing: 0px;\r\n    color: ${(props) => (props.type === \"likeNum\" ? \"#89ACFF;\" : \"#fff;\")};\r\n    z-index: 10;\r\n    transition: color 0.3s;\r\n  }\r\n`;\r\n\r\nconst Filter = styled.div`\r\n  position: relative;\r\n  width: 14.125rem;\r\n  height: 2.5rem;\r\n  background: #f4f4f4 0% 0% no-repeat padding-box;\r\n  box-shadow: 0px 3px 6px #00000029;\r\n  border-radius: 5px;\r\n  display: flex;\r\n`;\r\n\r\nconst CardContainer = styled.div`\r\n  width: 100%;\r\n  margin: 0 0 4.2rem 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst FloatingButton = styled.div`\r\n  position: fixed;\r\n  bottom: 5%;\r\n  right: 3%;\r\n  width: 3.125rem;\r\n  height: 3.125rem;\r\n  cursor: pointer;\r\n  z-index: 99;\r\n\r\n  & svg {\r\n    width: 100%;\r\n    height: 100%;\r\n    fill: #2b61e1;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    bottom: 10%;\r\n    right: 3%;\r\n  }\r\n`;\r\n\r\nconst Move = keyframes`\r\n  0% {\r\n    transform : translateX(-1500%);\r\n  }\r\n  100% {\r\n    transform : translateX(0%);\r\n  }\r\n`;\r\n\r\nconst MoveTripper = styled.div`\r\n  animation: ${Move} 5s;\r\n  margin: 0 1rem 0 0;\r\n  & img {\r\n    width: 4rem;\r\n  }\r\n`;\r\n\r\nexport default BoardMain;\r\n"]},"metadata":{},"sourceType":"module"}