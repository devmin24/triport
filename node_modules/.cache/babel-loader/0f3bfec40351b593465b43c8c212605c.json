{"ast":null,"code":"var _jsxFileName = \"/Users/parkminkyung/Desktop/git/triport/src/pages/BoardDetail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BoardView, BoardComment, BoardDetailMap } from \"components/components\";\nimport { LikeFill, LikeEmpty } from \"media/svg/Svg\";\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { history } from \"redux/configureStore\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardDetail = props => {\n  _s();\n\n  const id = props.match.params.id;\n  const dispatch = useDispatch();\n  const is_login = useSelector(state => state.user.is_login);\n  const detail = useSelector(state => state.trilog.detail);\n  const is_loading = useSelector(state => state.trilog.loading.detail_loading);\n  const comment = useSelector(state => state.trilog.parent_comment.list);\n  const is_last = useSelector(state => state.trilog.parent_comment.is_last);\n  const commentRef = React.useRef('');\n  React.useEffect(() => {\n    dispatch(TrilogActions.getTrilogDetail(id));\n  }, []);\n\n  const postParentComment = () => {\n    if (!is_login) {\n      alert(\"로그인을 먼저 하세요!\");\n      return;\n    }\n\n    dispatch(TrilogActions.addParentComment(id, commentRef.current.value));\n    document.getElementById('commentInput').value = ''; // 초기화\n  };\n\n  const hitLike = () => {\n    if (!is_login) {\n      alert(\"로그인을 먼저 하세요!\");\n      return;\n    }\n\n    dispatch(TrilogActions.setLikeTrilogDetail(id));\n  };\n\n  const getMorecomment = () => {\n    dispatch(TrilogActions.getParentCommentScroll(id));\n  };\n\n  const editTrilog = () => {\n    history.replace(`/trilog/write/${id}`);\n  };\n\n  const deleteTrilog = () => {\n    if (window.confirm('해당 게시글을 삭제하시겠습니까?')) {\n      dispatch(TrilogActions.removeTrilog(id));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(DetailContainer, {\n    children: is_loading ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(UserContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: detail.author.profileImgUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: detail.author.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\uB9C8\\uC9C0\\uB9C9 \\uC218\\uC815\\uC2DC\\uAC04 : \", detail.information.modifiedAt, detail.member.isMembers ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(EditButton, {\n              type: \"button\",\n              value: \"\\uC218\\uC815\",\n              onClick: editTrilog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n              type: \"button\",\n              value: \"\\uC0AD\\uC81C\",\n              onClick: deleteTrilog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ToastViewContainer, {\n        children: detail.information.description === \"\" ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BoardView, {\n          content: detail.information.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(MapConatiner, {\n        children: detail.information.address === '지도 마커를 클릭하시면 주소가 여기 표시됩니다.' ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BoardDetailMap, {\n          address: detail.information.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 89\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(LikeCommentContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Infomation, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: hitLike,\n            children: detail.member.isLike ? /*#__PURE__*/_jsxDEV(LikeFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 43\n            }, this) : /*#__PURE__*/_jsxDEV(LikeEmpty, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC88B\\uC544\\uC694+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(LikeCount, {\n              children: detail.information.likeNum\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uB313\\uAE00+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(CommentCount, {\n              children: detail.information.commentNum\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CommentInput, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"commentInput\",\n            type: \"text\",\n            placeholder: \"\\uB313\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n            ref: commentRef,\n            onKeyPress: e => {\n              if (window.event.keyCode === 13) {\n                postParentComment();\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }, this), comment.map((val, index) => {\n          return /*#__PURE__*/_jsxDEV(BoardComment, {\n            id: id,\n            comment: val\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 24\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), is_last ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(ShowMoreComment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: getMorecomment,\n          children: \"\\uB313\\uAE00 \\uB354 \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this);\n};\n\n_s(BoardDetail, \"Az6Tbhn04lGIgP38OUGgBdj0i2g=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BoardDetail;\nconst Separator = styled.hr`\n  color: #89acff;\n  opacity: 0.5;\n  margin: 0.75rem 0;\n`;\n_c2 = Separator;\nconst DetailContainer = styled.div`\n  width: 1280px;\n  margin: 0 auto;\n  position: relative;\n`;\n_c3 = DetailContainer;\nconst UserContainer = styled.div`\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: space-between;\n    font-family: AppleSDGothicNeoB;\n\n    & img {\n        width: 2.375rem;\n        border-radius: 50%;\n        margin-right: .5rem;\n    }\n\n    & div {\n        display: flex;\n        align-items: center;\n    }\n`;\n_c4 = UserContainer;\nconst LikeCount = styled.span`\n  margin-right: 0.5rem;\n`;\n_c5 = LikeCount;\nconst CommentCount = styled.span``;\n_c6 = CommentCount;\nconst ToastViewContainer = styled.div``;\n_c7 = ToastViewContainer;\nconst MapConatiner = styled.div``;\n_c8 = MapConatiner;\nconst LikeCommentContainer = styled.div`\n  width: 100%;\n`;\n_c9 = LikeCommentContainer;\nconst Infomation = styled.div`\n  display: flex;\n  align-items: center;\n  font-family: \"AppleSDGothicNeoR\";\n\n  & svg {\n    cursor: pointer;\n    width: 3.2rem;\n  }\n`;\n_c10 = Infomation;\nconst CommentInput = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0.5rem 0;\n  width: 100%;\n\n  & input {\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    border: 1px solid rgb(43,97,225,0.6);\n    border-radius: 5px;\n    padding: 0 1rem;\n  }\n`;\n_c11 = CommentInput;\nconst ShowMoreComment = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin: 1.5rem 0 1.5rem 0;\n  & span {\n      cursor: pointer;\n  }\n`;\n_c12 = ShowMoreComment;\nconst EditButton = styled.input`\n    cursor: pointer;\n    background-color: #2b61e1;\n    color: #fff;\n    border: 1px solid #2b61e1;\n    border-radius: 5px;\n    padding: .25rem .75rem;\n    margin: 0 .5rem;\n`;\n_c13 = EditButton;\nconst DeleteButton = styled.input`\n    cursor: pointer;\n    background-color: #f22d3f;\n    border: 1px solid #f22d3f;\n    color: #fff;\n    border-radius: 5px;\n    padding: .25rem .75rem;\n`;\n_c14 = DeleteButton;\nexport default BoardDetail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n\n$RefreshReg$(_c, \"BoardDetail\");\n$RefreshReg$(_c2, \"Separator\");\n$RefreshReg$(_c3, \"DetailContainer\");\n$RefreshReg$(_c4, \"UserContainer\");\n$RefreshReg$(_c5, \"LikeCount\");\n$RefreshReg$(_c6, \"CommentCount\");\n$RefreshReg$(_c7, \"ToastViewContainer\");\n$RefreshReg$(_c8, \"MapConatiner\");\n$RefreshReg$(_c9, \"LikeCommentContainer\");\n$RefreshReg$(_c10, \"Infomation\");\n$RefreshReg$(_c11, \"CommentInput\");\n$RefreshReg$(_c12, \"ShowMoreComment\");\n$RefreshReg$(_c13, \"EditButton\");\n$RefreshReg$(_c14, \"DeleteButton\");","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/pages/BoardDetail.js"],"names":["React","styled","BoardView","BoardComment","BoardDetailMap","LikeFill","LikeEmpty","actionCreators","TrilogActions","useDispatch","useSelector","history","BoardDetail","props","id","match","params","dispatch","is_login","state","user","detail","trilog","is_loading","loading","detail_loading","comment","parent_comment","list","is_last","commentRef","useRef","useEffect","getTrilogDetail","postParentComment","alert","addParentComment","current","value","document","getElementById","hitLike","setLikeTrilogDetail","getMorecomment","getParentCommentScroll","editTrilog","replace","deleteTrilog","window","confirm","removeTrilog","author","profileImgUrl","nickname","information","modifiedAt","member","isMembers","description","address","isLike","likeNum","commentNum","e","event","keyCode","map","val","index","Separator","hr","DetailContainer","div","UserContainer","LikeCount","span","CommentCount","ToastViewContainer","MapConatiner","LikeCommentContainer","Infomation","CommentInput","ShowMoreComment","EditButton","input","DeleteButton"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,SAAT,EAAoBC,YAApB,EAAkCC,cAAlC,QAAwD,uBAAxD;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,eAApC;AACA,SAASC,cAAc,IAAIC,aAA3B,QAAgD,sBAAhD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,OAAT,QAAwB,sBAAxB;;;;AAEA,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AAC3B,QAAMC,EAAE,GAAGD,KAAK,CAACE,KAAN,CAAYC,MAAZ,CAAmBF,EAA9B;AACA,QAAMG,QAAQ,GAAGR,WAAW,EAA5B;AAEA,QAAMS,QAAQ,GAAGR,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACC,IAAN,CAAWF,QAAvB,CAA5B;AACA,QAAMG,MAAM,GAAGX,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACG,MAAN,CAAaD,MAAzB,CAA1B;AACA,QAAME,UAAU,GAAGb,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACG,MAAN,CAAaE,OAAb,CAAqBC,cAAjC,CAA9B;AACA,QAAMC,OAAO,GAAGhB,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACG,MAAN,CAAaK,cAAb,CAA4BC,IAAxC,CAA3B;AACA,QAAMC,OAAO,GAAGnB,WAAW,CAAES,KAAD,IAAWA,KAAK,CAACG,MAAN,CAAaK,cAAb,CAA4BE,OAAxC,CAA3B;AAEA,QAAMC,UAAU,GAAG9B,KAAK,CAAC+B,MAAN,CAAa,EAAb,CAAnB;AAEA/B,EAAAA,KAAK,CAACgC,SAAN,CAAgB,MAAM;AAClBf,IAAAA,QAAQ,CAACT,aAAa,CAACyB,eAAd,CAA8BnB,EAA9B,CAAD,CAAR;AACH,GAFD,EAEG,EAFH;;AAIA,QAAMoB,iBAAiB,GAAG,MAAM;AAC5B,QAAG,CAAChB,QAAJ,EAAc;AACViB,MAAAA,KAAK,CAAC,cAAD,CAAL;AACA;AACH;;AACDlB,IAAAA,QAAQ,CAACT,aAAa,CAAC4B,gBAAd,CAA+BtB,EAA/B,EAAmCgB,UAAU,CAACO,OAAX,CAAmBC,KAAtD,CAAD,CAAR;AACAC,IAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwCF,KAAxC,GAAgD,EAAhD,CAN4B,CAMwB;AACvD,GAPD;;AASA,QAAMG,OAAO,GAAG,MAAM;AAClB,QAAG,CAACvB,QAAJ,EAAc;AACViB,MAAAA,KAAK,CAAC,cAAD,CAAL;AACA;AACH;;AACDlB,IAAAA,QAAQ,CAACT,aAAa,CAACkC,mBAAd,CAAkC5B,EAAlC,CAAD,CAAR;AACH,GAND;;AAQA,QAAM6B,cAAc,GAAG,MAAM;AACzB1B,IAAAA,QAAQ,CAACT,aAAa,CAACoC,sBAAd,CAAqC9B,EAArC,CAAD,CAAR;AACH,GAFD;;AAIA,QAAM+B,UAAU,GAAG,MAAM;AACrBlC,IAAAA,OAAO,CAACmC,OAAR,CAAiB,iBAAgBhC,EAAG,EAApC;AACH,GAFD;;AAIA,QAAMiC,YAAY,GAAG,MAAM;AACvB,QAAGC,MAAM,CAACC,OAAP,CAAe,mBAAf,CAAH,EAAuC;AACnChC,MAAAA,QAAQ,CAACT,aAAa,CAAC0C,YAAd,CAA2BpC,EAA3B,CAAD,CAAR;AACH;AACJ,GAJD;;AAMA,sBACE,QAAC,eAAD;AAAA,cACGS,UAAU,gBACT,qCADS,gBAGT;AAAA,8BACE,QAAC,aAAD;AAAA,gCACE;AAAA,kCACE;AAAK,YAAA,GAAG,EAAEF,MAAM,CAAC8B,MAAP,CAAcC;AAAxB;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBAAO/B,MAAM,CAAC8B,MAAP,CAAcE;AAArB;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAKE;AAAA,uEACchC,MAAM,CAACiC,WAAP,CAAmBC,UADjC,EAEGlC,MAAM,CAACmC,MAAP,CAAcC,SAAd,gBACC;AAAA,oCACE,QAAC,UAAD;AAAY,cAAA,IAAI,EAAC,QAAjB;AAA0B,cAAA,KAAK,EAAC,cAAhC;AAAqC,cAAA,OAAO,EAAEZ;AAA9C;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,YAAD;AAAc,cAAA,IAAI,EAAC,QAAnB;AAA4B,cAAA,KAAK,EAAC,cAAlC;AAAuC,cAAA,OAAO,EAAEE;AAAhD;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA,0BADD,gBAMC,qCARJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAkBE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cAlBF,eAmBE,QAAC,kBAAD;AAAA,kBACG1B,MAAM,CAACiC,WAAP,CAAmBI,WAAnB,KAAmC,EAAnC,gBACC,qCADD,gBAGC,QAAC,SAAD;AAAW,UAAA,OAAO,EAAErC,MAAM,CAACiC,WAAP,CAAmBI;AAAvC;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,cAnBF,eA0BE,QAAC,YAAD;AAAA,kBACGrC,MAAM,CAACiC,WAAP,CAAmBK,OAAnB,KAA+B,4BAA/B,gBAA+D,qCAA/D,gBAAyE,QAAC,cAAD;AAAgB,UAAA,OAAO,EAAEtC,MAAM,CAACiC,WAAP,CAAmBK;AAA5C;AAAA;AAAA;AAAA;AAAA;AAD5E;AAAA;AAAA;AAAA;AAAA,cA1BF,eA6BE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,cA7BF,eA8BE,QAAC,oBAAD;AAAA,gCACE,QAAC,UAAD;AAAA,kCACE;AAAM,YAAA,OAAO,EAAElB,OAAf;AAAA,sBACGpB,MAAM,CAACmC,MAAP,CAAcI,MAAd,gBAAuB,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,oBAAvB,gBAAsC,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADzC;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,SAAD;AAAA,wBAAYvC,MAAM,CAACiC,WAAP,CAAmBO;AAA/B;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJF,eAQE;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE,QAAC,YAAD;AAAA,wBAAexC,MAAM,CAACiC,WAAP,CAAmBQ;AAAlC;AAAA;AAAA;AAAA;AAAA,oBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAcE,QAAC,YAAD;AAAA,iCACE;AACE,YAAA,EAAE,EAAC,cADL;AAEE,YAAA,IAAI,EAAC,MAFP;AAGE,YAAA,WAAW,EAAC,oDAHd;AAIE,YAAA,GAAG,EAAEhC,UAJP;AAKE,YAAA,UAAU,EAAGiC,CAAD,IAAO;AACjB,kBAAIf,MAAM,CAACgB,KAAP,CAAaC,OAAb,KAAyB,EAA7B,EAAiC;AAC/B/B,gBAAAA,iBAAiB;AAClB;AACF;AATH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAdF,eA2BE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBA3BF,EA4BGR,OAAO,CAACwC,GAAR,CAAY,CAACC,GAAD,EAAMC,KAAN,KAAgB;AAC3B,8BAAO,QAAC,YAAD;AAAc,YAAA,EAAE,EAAEtD,EAAlB;AAAsB,YAAA,OAAO,EAAEqD;AAA/B,aAAyCC,KAAzC;AAAA;AAAA;AAAA;AAAA,kBAAP;AACD,SAFA,CA5BH;AAAA;AAAA;AAAA;AAAA;AAAA,cA9BF,EA8DGvC,OAAO,gBACN,qCADM,gBAGN,QAAC,eAAD;AAAA,+BACE;AAAM,UAAA,OAAO,EAAEc,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAjEJ;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA,UADF;AA8EH,CA7HD;;GAAM/B,W;UAEeH,W,EAEAC,W,EACFA,W,EACIA,W,EACHA,W,EACAA,W;;;KARdE,W;AA+HN,MAAMyD,SAAS,GAAGpE,MAAM,CAACqE,EAAG;AAC5B;AACA;AACA;AACA,CAJA;MAAMD,S;AAMN,MAAME,eAAe,GAAGtE,MAAM,CAACuE,GAAI;AACnC;AACA;AACA;AACA,CAJA;MAAMD,e;AAMN,MAAME,aAAa,GAAGxE,MAAM,CAACuE,GAAI;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAjBA;MAAMC,a;AAmBN,MAAMC,SAAS,GAAGzE,MAAM,CAAC0E,IAAK;AAC9B;AACA,CAFA;MAAMD,S;AAIN,MAAME,YAAY,GAAG3E,MAAM,CAAC0E,IAAK,EAAjC;MAAMC,Y;AAEN,MAAMC,kBAAkB,GAAG5E,MAAM,CAACuE,GAAI,EAAtC;MAAMK,kB;AAEN,MAAMC,YAAY,GAAG7E,MAAM,CAACuE,GAAI,EAAhC;MAAMM,Y;AAEN,MAAMC,oBAAoB,GAAG9E,MAAM,CAACuE,GAAI;AACxC;AACA,CAFA;MAAMO,oB;AAIN,MAAMC,UAAU,GAAG/E,MAAM,CAACuE,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATA;OAAMQ,U;AAWN,MAAMC,YAAY,GAAGhF,MAAM,CAACuE,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAhBA;OAAMS,Y;AAkBN,MAAMC,eAAe,GAAGjF,MAAM,CAACuE,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMU,e;AAUN,MAAMC,UAAU,GAAGlF,MAAM,CAACmF,KAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;OAAMD,U;AAUN,MAAME,YAAY,GAAGpF,MAAM,CAACmF,KAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;OAAMC,Y;AASN,eAAezE,WAAf","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { BoardView, BoardComment, BoardDetailMap } from \"components/components\";\r\nimport { LikeFill, LikeEmpty } from \"media/svg/Svg\";\r\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { history } from \"redux/configureStore\";\r\n\r\nconst BoardDetail = (props) => {\r\n    const id = props.match.params.id;\r\n    const dispatch = useDispatch();\r\n\r\n    const is_login = useSelector((state) => state.user.is_login);\r\n    const detail = useSelector((state) => state.trilog.detail);\r\n    const is_loading = useSelector((state) => state.trilog.loading.detail_loading);\r\n    const comment = useSelector((state) => state.trilog.parent_comment.list);\r\n    const is_last = useSelector((state) => state.trilog.parent_comment.is_last);\r\n\r\n    const commentRef = React.useRef('');\r\n\r\n    React.useEffect(() => {\r\n        dispatch(TrilogActions.getTrilogDetail(id));\r\n    }, []);\r\n\r\n    const postParentComment = () => {\r\n        if(!is_login) {\r\n            alert(\"로그인을 먼저 하세요!\");\r\n            return;\r\n        }\r\n        dispatch(TrilogActions.addParentComment(id, commentRef.current.value));\r\n        document.getElementById('commentInput').value = ''; // 초기화\r\n    };\r\n\r\n    const hitLike = () => {\r\n        if(!is_login) {\r\n            alert(\"로그인을 먼저 하세요!\");\r\n            return;\r\n        }\r\n        dispatch(TrilogActions.setLikeTrilogDetail(id));\r\n    };\r\n\r\n    const getMorecomment = () => {\r\n        dispatch(TrilogActions.getParentCommentScroll(id));\r\n    };\r\n\r\n    const editTrilog = () => {\r\n        history.replace(`/trilog/write/${id}`);\r\n    };\r\n\r\n    const deleteTrilog = () => {\r\n        if(window.confirm('해당 게시글을 삭제하시겠습니까?')){\r\n            dispatch(TrilogActions.removeTrilog(id));\r\n        }\r\n    };\r\n\r\n    return (\r\n      <DetailContainer>\r\n        {is_loading ? (\r\n          <></>\r\n        ) : (\r\n          <>\r\n            <UserContainer>\r\n              <div>\r\n                <img src={detail.author.profileImgUrl} />\r\n                <span>{detail.author.nickname}</span>\r\n              </div>\r\n              <div>\r\n                마지막 수정시간 : {detail.information.modifiedAt}\r\n                {detail.member.isMembers ? (\r\n                  <>\r\n                    <EditButton type=\"button\" value=\"수정\" onClick={editTrilog} />\r\n                    <DeleteButton type=\"button\" value=\"삭제\" onClick={deleteTrilog} />\r\n                  </>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </div>\r\n            </UserContainer>\r\n            <Separator />\r\n            <ToastViewContainer>\r\n              {detail.information.description === \"\" ? (\r\n                <></>\r\n              ) : (\r\n                <BoardView content={detail.information.description} />\r\n              )}\r\n            </ToastViewContainer>\r\n            <MapConatiner>\r\n              {detail.information.address === '지도 마커를 클릭하시면 주소가 여기 표시됩니다.' ? (<></>) : (<BoardDetailMap address={detail.information.address} />) }\r\n            </MapConatiner>\r\n            <Separator />\r\n            <LikeCommentContainer>\r\n              <Infomation>\r\n                <span onClick={hitLike}>\r\n                  {detail.member.isLike ? <LikeFill /> : <LikeEmpty />}\r\n                </span>\r\n                <div>\r\n                  <span>좋아요+</span>\r\n                  <LikeCount>{detail.information.likeNum}</LikeCount>\r\n                </div>\r\n                <div>\r\n                  <span>댓글+</span>\r\n                  <CommentCount>{detail.information.commentNum}</CommentCount>\r\n                </div>\r\n              </Infomation>\r\n              <CommentInput>\r\n                <input\r\n                  id=\"commentInput\"\r\n                  type=\"text\"\r\n                  placeholder=\"댓글을 입력하세요.\"\r\n                  ref={commentRef}\r\n                  onKeyPress={(e) => {\r\n                    if (window.event.keyCode === 13) {\r\n                      postParentComment();\r\n                    }\r\n                  }}\r\n                />\r\n              </CommentInput>\r\n              <Separator />\r\n              {comment.map((val, index) => {\r\n                return <BoardComment id={id} comment={val} key={index} />;\r\n              })}\r\n            </LikeCommentContainer>\r\n            {is_last ? (\r\n              <></>\r\n            ) : (\r\n              <ShowMoreComment>\r\n                <span onClick={getMorecomment}>댓글 더 보기</span>\r\n              </ShowMoreComment>\r\n            )}\r\n          </>\r\n        )}\r\n      </DetailContainer>\r\n    );\r\n};\r\n\r\nconst Separator = styled.hr`\r\n  color: #89acff;\r\n  opacity: 0.5;\r\n  margin: 0.75rem 0;\r\n`;\r\n\r\nconst DetailContainer = styled.div`\r\n  width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n`;\r\n\r\nconst UserContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    font-family: AppleSDGothicNeoB;\r\n\r\n    & img {\r\n        width: 2.375rem;\r\n        border-radius: 50%;\r\n        margin-right: .5rem;\r\n    }\r\n\r\n    & div {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst LikeCount = styled.span`\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst CommentCount = styled.span``;\r\n\r\nconst ToastViewContainer = styled.div``;\r\n\r\nconst MapConatiner = styled.div``;\r\n\r\nconst LikeCommentContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst Infomation = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-family: \"AppleSDGothicNeoR\";\r\n\r\n  & svg {\r\n    cursor: pointer;\r\n    width: 3.2rem;\r\n  }\r\n`;\r\n\r\nconst CommentInput = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0.5rem 0;\r\n  width: 100%;\r\n\r\n  & input {\r\n    outline: none;\r\n    border: 0;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 40px;\r\n    border: 1px solid rgb(43,97,225,0.6);\r\n    border-radius: 5px;\r\n    padding: 0 1rem;\r\n  }\r\n`;\r\n\r\nconst ShowMoreComment = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 1.5rem 0 1.5rem 0;\r\n  & span {\r\n      cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst EditButton = styled.input`\r\n    cursor: pointer;\r\n    background-color: #2b61e1;\r\n    color: #fff;\r\n    border: 1px solid #2b61e1;\r\n    border-radius: 5px;\r\n    padding: .25rem .75rem;\r\n    margin: 0 .5rem;\r\n`;\r\n\r\nconst DeleteButton = styled.input`\r\n    cursor: pointer;\r\n    background-color: #f22d3f;\r\n    border: 1px solid #f22d3f;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    padding: .25rem .75rem;\r\n`;\r\n\r\nexport default BoardDetail;\r\n"]},"metadata":{},"sourceType":"module"}