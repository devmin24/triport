{"ast":null,"code":"import _regeneratorRuntime from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _toConsumableArray from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{createSlice}from\"@reduxjs/toolkit\";import{produce}from'immer';// 불변성 유지\nimport{config}from\"./config\";import Swal from\"sweetalert2\";/* Trilog - 트릴로그 */var trilogSlice=createSlice({name:\"trilog\",initialState:{main:{list:[],is_last:false,page:1,filter:'likeNum'},detail:{},parent_comment:{list:[],is_last:false,page:1},loading:{main_loading:true,detail_loading:true}},reducers:{// Trilog 메인 페이지 - 내용 로딩 여부\nsetMainLoading:function setMainLoading(state,action){return produce(state,function(draft){draft.loading.main_loading=action.payload;});},// Trilog 상세 페이지 - 내용 로딩 여부\nsetDetailLoading:function setDetailLoading(state,action){return produce(state,function(draft){draft.loading.detail_loading=action.payload;});},// Trilog 메인 페이지 - 무한 스크롤 더 가져오기\nsetTrilogMainAdd:function setTrilogMainAdd(state,action){return produce(state,function(draft){draft.main.list=[].concat(_toConsumableArray(draft.main.list),_toConsumableArray(action.payload.results));draft.main.is_last=action.payload.last;});},// Trilog 수정 페이지 - 게시글 수정\nsetTrilogMainEdit:function setTrilogMainEdit(state,action){return produce(state,function(draft){if(draft.main.list.length>0){var idx=draft.main.list.findIndex(function(e){return e.information.id===parseInt(action.payload.id);});draft.main.list[idx].information.title=action.payload.title;draft.main.list[idx].information.address=action.payload.address;draft.main.list[idx].information.description=action.payload.description;if(action.payload.imageUrlList.length!==0){draft.main.list[idx].information.thumbNailUrl=action.payload.imageUrlList[0].imageFilePath;}else{draft.main.list[idx].information.thumbNailUrl='';}}});},// Trilog 메인 페이지 - 게시글 조회\nsetTrilogMain:function setTrilogMain(state,action){return produce(state,function(draft){draft.main.list=action.payload.results;draft.main.is_last=action.payload.last;});},// Trilog 메인 페이지 - 필터 설정\nsetTrilogMainFilter:function setTrilogMainFilter(state,action){return produce(state,function(draft){draft.main.filter=action.payload;});},// Trilog 메인 페이지 - 무한 스크롤 페이지 설정(다음 게시물이 있나 없나)\nsetTrilogMainPage:function setTrilogMainPage(state,action){return produce(state,function(draft){draft.main.page=action.payload;});},// Trilog 메인 페이지 - 게시글 좋아요\nsetTrilogLike:function setTrilogLike(state,action){return produce(state,function(draft){var idx=draft.main.list.findIndex(function(e){return e.information.id===action.payload;});draft.main.list[idx].member.isLike=!draft.main.list[idx].member.isLike;if(draft.main.list[idx].member.isLike){draft.main.list[idx].information.likeNum+=1;}else{draft.main.list[idx].information.likeNum-=1;}});},// Trilog 상세 페이지 - 게시물 삭제\nremoveTrilogDetail:function removeTrilogDetail(state,action){return produce(state,function(draft){draft.main.list=draft.main.list.filter(function(e){return e.information.id!==parseInt(action.payload);});});},// Trilog 상세 페이지 - 부모 댓글 페이징 설정(다음 부모 댓글 있나 없나)\nsetTrilogParentCommentPage:function setTrilogParentCommentPage(state,action){return produce(state,function(draft){draft.parent_comment.page=action.payload;});},// Trilog 상세 페이지 - 해당 게시글 조회\nsetTrilogDetail:function setTrilogDetail(state,action){return produce(state,function(draft){draft.detail=action.payload.results;});},// Trilog 상세 페이지 - 부모 댓글 조회\nsetTrilogParentComment:function setTrilogParentComment(state,action){return produce(state,function(draft){draft.parent_comment.list=action.payload.results;draft.parent_comment.is_last=action.payload.last;});},// Trilog 상세 페이지 - 부모 댓글 페이징(다음 부모 댓글 조회)\naddTrilogParentCommentScroll:function addTrilogParentCommentScroll(state,action){return produce(state,function(draft){draft.parent_comment.list=[].concat(_toConsumableArray(draft.parent_comment.list),_toConsumableArray(action.payload.results));draft.parent_comment.is_last=action.payload.last;});},// Trilog 상세 페이지 - 부모 댓글 수정\neditTrilogParentComment:function editTrilogParentComment(state,action){return produce(state,function(draft){var idx=draft.parent_comment.list.findIndex(function(e){return e.commentParent.id===action.payload.results.commentParent.id;});draft.parent_comment.list[idx].commentParent.contents=action.payload.results.commentParent.contents;draft.parent_comment.list[idx].commentParent.createdAt=action.payload.results.commentParent.createdAt;});},// Trilog 상세 페이지 - 부모 댓글 삭제\nremoveTrilogParentComment:function removeTrilogParentComment(state,action){return produce(state,function(draft){var idx=draft.parent_comment.list.findIndex(function(e){return e.commentParent.id===action.payload;});draft.parent_comment.list.splice(idx,1);});},// Trilog 상세 페이지 - 게시글 좋아요\nsetTrilogDetailLike:function setTrilogDetailLike(state,action){return produce(state,function(draft){if(draft.detail.member.isLike){draft.detail.information.likeNum-=1;}else{draft.detail.information.likeNum+=1;}draft.detail.member.isLike=!draft.detail.member.isLike;});},// Trilog 상세 페이지 - 부모 댓글 작성\naddTrilogParentComment:function addTrilogParentComment(state,action){return produce(state,function(draft){draft.parent_comment.list=[].concat(_toConsumableArray(draft.parent_comment.list),[action.payload.results]);draft.detail.information.commentNum+=1;});},// Trilog 상세 페이지 - 부모 댓글 좋아요\nsetTrilogParentCommentLike:function setTrilogParentCommentLike(state,action){return produce(state,function(draft){var idx=draft.parent_comment.list.findIndex(function(e){return e.commentParent.id===action.payload;});if(draft.parent_comment.list[idx].user.isLike){draft.parent_comment.list[idx].commentParent.likeNum-=1;draft.parent_comment.list[idx].user.isLike=!draft.parent_comment.list[idx].user.isLike;}else{draft.parent_comment.list[idx].commentParent.likeNum+=1;draft.parent_comment.list[idx].user.isLike=!draft.parent_comment.list[idx].user.isLike;}});}}});// Trilog 메인 게시물 조회\nvar getTrilogMain=function getTrilogMain(filter,keyword){return function(dispatch,getState,_ref){var history=_ref.history;dispatch(setMainLoading(true));var access_token=localStorage.getItem(\"access_token\");var page=getState().trilog.main.page;fetch(\"\".concat(config,\"/api/all/boards?page=\").concat(page,\"&filter=\").concat(filter,\"&keyword=\").concat(keyword),{method:'GET',headers:{'Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(page===1){dispatch(setTrilogMain(data));}else{dispatch(setTrilogMainAdd(data));}if(!data.last){dispatch(setTrilogMainPage(page+1));}else{dispatch(setTrilogMainPage(1));}}).catch(function(err){return console.log(err,\"메인 error\");});dispatch(setMainLoading(false));};};// Trilog 메인 게시물 조회 - 필터 및 검색 적용시\nvar getTrilogMainFilter=function getTrilogMainFilter(filter,keyword){return function(dispatch,getState,_ref2){var history=_ref2.history;dispatch(setMainLoading(true));var access_token=localStorage.getItem(\"access_token\");var page=1;fetch(\"\".concat(config,\"/api/all/boards?page=\").concat(page,\"&filter=\").concat(filter,\"&keyword=\").concat(keyword),{method:'GET',headers:{'Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(page===1){dispatch(setTrilogMain(data));}else{dispatch(setTrilogMainAdd(data));}if(!data.last){dispatch(setTrilogMainPage(page+1));}else{dispatch(setTrilogMainPage(1));}}).catch(function(err){return console.log(err,\"메인 필터 error\");});dispatch(setMainLoading(false));dispatch(setTrilogMainFilter(filter));};};// Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 쓴 글 조회\nvar getTrilogMainMyPage=function getTrilogMainMyPage(){return function(dispatch,getState,_ref3){var history=_ref3.history;var access_token=localStorage.getItem(\"access_token\");var api=\"\".concat(config,\"/api/boards/member\");fetch(api,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){dispatch(setTrilogMain(data));}).catch(function(err){console.log(err);});};};// Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 좋아요한 게시물 조회\nvar getTrilogMainMyPageLike=function getTrilogMainMyPageLike(){return function(dispatch,getState,_ref4){var history=_ref4.history;var access_token=localStorage.getItem(\"access_token\");var api=\"\".concat(config,\"/api/boards/member/like\");fetch(api,{method:\"GET\",headers:{\"Content-Type\":\"application/json\",Accept:\"application/json\",Authorization:\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){dispatch(setTrilogMain(data));}).catch(function(err){console.log(err);});};};// Trilog 게시물 상세 조회\nvar getTrilogDetail=function getTrilogDetail(id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState,_ref5){var history,page,access_token,detail,comment;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:history=_ref5.history;dispatch(setDetailLoading(true));page=getState().trilog.parent_comment.page;access_token=localStorage.getItem(\"access_token\");_context.next=6;return fetch(\"\".concat(config,\"/api/all/boards/detail/\").concat(id),{method:'GET',headers:{'Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){return data;}).catch(function(err){return console.log(err,'trilog detail');});case 6:detail=_context.sent;_context.next=9;return fetch(\"\".concat(config,\"/api/all/boards/comments/parents/\").concat(id,\"?page=1\"),{method:'GET',headers:{'Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(!data.last){dispatch(setTrilogParentCommentPage(page+1));}else{dispatch(setTrilogParentCommentPage(1));}return data;}).catch(function(err){return console.log(err,'trilog parent comment');});case 9:comment=_context.sent;dispatch(setTrilogDetail(detail));dispatch(setTrilogParentComment(comment));dispatch(setDetailLoading(false));case 13:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2,_x3){return _ref6.apply(this,arguments);};}();};// Trilog 메인 게시물 등록\nvar addTrilog=function addTrilog(trilog){return function(dispatch,getState,_ref7){var history=_ref7.history;var filter=getState().trilog.main.filter;var access_token=localStorage.getItem(\"access_token\");if(trilog.is_edit){fetch(\"\".concat(config,\"/api/boards/\").concat(trilog.id),{method:'PUT',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)},body:JSON.stringify({title:trilog.title,address:trilog.address,description:trilog.description,imageUrlList:trilog.imageUrlList})}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){Swal.fire({title:data.msg,icon:\"success\"});window.scrollTo(0,0);dispatch(setTrilogMainEdit(trilog));history.push('/trilog');}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'Trilog Edit');});}else{fetch(\"\".concat(config,\"/api/boards/\"),{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)},body:JSON.stringify({title:trilog.title,address:trilog.address,description:trilog.description,imageUrlList:trilog.imageUrlList})}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){Swal.fire({title:data.msg,icon:\"success\"});window.scrollTo(0,0);dispatch(setTrilogMainPage(1));dispatch(setTrilogMainFilter(\"likeNum\"));dispatch(getTrilogMain(\"likeNum\",\"\"));history.push('/trilog');}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'Trilog Add');});}};};// Trilog 메인 게시물 삭제\nvar removeTrilog=function removeTrilog(id){return function(dispatch,getState,_ref8){var history=_ref8.history;var access_token=localStorage.getItem(\"access_token\");fetch(\"\".concat(config,\"/api/boards/\").concat(id),{method:'DELETE',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){dispatch(removeTrilogDetail(id));Swal.fire({title:data.msg,icon:\"success\"});history.replace('/trilog');}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'Trilog Delete');});};};// Trilog 메인 게시물 좋아요\nvar setLikeTrilog=function setLikeTrilog(id){return function(dispatch,getState,_ref9){var history=_ref9.history;var access_token=localStorage.getItem(\"access_token\");fetch(\"\".concat(config,\"/api/boards/like/\").concat(id),{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else{dispatch(setTrilogLike(id));}}).catch(function(err){return console.log(err,'trilog like');});};};// Trilog 상세 게시물 좋아요\nvar setLikeTrilogDetail=function setLikeTrilogDetail(id){return function(dispatch,getState,_ref10){var history=_ref10.history;var access_token=localStorage.getItem(\"access_token\");fetch(\"\".concat(config,\"/api/boards/like/\").concat(id),{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else{dispatch(setTrilogDetailLike());}}).catch(function(err){return console.log(err,'trilog detail like');});};};// Trilog 상세 게시물 - 부모 댓글 더 보기\nvar getParentCommentScroll=function getParentCommentScroll(id){return function(dispatch,getState,_ref11){var history=_ref11.history;var access_token=localStorage.getItem(\"access_token\");var page=getState().trilog.parent_comment.page;fetch(\"\".concat(config,\"/api/all/boards/comments/parents/\").concat(id,\"?page=\").concat(page),{method:'GET',headers:{'Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){if(!data.last){dispatch(setTrilogParentCommentPage(page+1));}else{dispatch(setTrilogParentCommentPage(1));}dispatch(addTrilogParentCommentScroll(data));}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,\"parent comment scroll error\");});};};// Trilog 상세 게시물 - 부모 댓글 추가\nvar addParentComment=function addParentComment(id,contents){return function(dispatch,getState,_ref12){var history=_ref12.history;var access_token=localStorage.getItem(\"access_token\");fetch(\"\".concat(config,\"/api/boards/comments/parents/\").concat(id),{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)},body:JSON.stringify({contents:contents})}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){dispatch(addTrilogParentComment(data));Swal.fire({title:data.msg,icon:\"success\"});}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'add comment trilog');});};};// Trilog 상세 게시물 - 부모 댓글 수정\nvar editParentComment=function editParentComment(id,contents){return function(dispatch,getState,_ref13){var history=_ref13.history;var access_token=localStorage.getItem(\"access_token\");fetch(\"\".concat(config,\"/api/boards/comments/parents/\").concat(id),{method:'PUT',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)},body:JSON.stringify({contents:contents})}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){dispatch(editTrilogParentComment(data));Swal.fire({title:data.msg,icon:\"success\"});}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'edit comment trilog');});};};// Trilog 상세 게시물 - 부모 댓글 삭제\nvar removeParentComment=function removeParentComment(id){return function(dispatch,getState,_ref14){var history=_ref14.history;var access_token=localStorage.getItem(\"access_token\");fetch(\"\".concat(config,\"/api/boards/comments/parents/\").concat(id),{method:'DELETE',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){dispatch(removeTrilogParentComment(id));Swal.fire({title:data.msg,icon:\"success\"});}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'remove comment trilog');});};};// Trilog 상세 게시물 - 부모 댓글 좋아요\nvar setParentCommentLike=function setParentCommentLike(id){return function(dispatch,getState,_ref15){var history=_ref15.history;var access_token=localStorage.getItem(\"access_token\");var api=\"\".concat(config,\"/api/boards/comments/parents/like/\").concat(id);fetch(api,{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json','Authorization':\"\".concat(access_token)}}).then(function(res){return res.json();}).then(function(data){if(data.status===401){Swal.fire({title:\"로그인\",text:\"로그인을 먼저 해주세요.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else if(data.status===200){dispatch(setTrilogParentCommentLike(id));}else{Swal.fire({title:data.msg,icon:\"warning\"});}}).catch(function(err){return console.log(err,'comment like');});};};var actionCreators={getTrilogMain:getTrilogMain,// Trilog 메인 게시물 조회\ngetTrilogMainFilter:getTrilogMainFilter,// Trilog 메인 게시물 조회 - 필터 및 검색 적용시\ngetTrilogMainMyPage:getTrilogMainMyPage,// Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 쓴 글 조회\ngetTrilogMainMyPageLike:getTrilogMainMyPageLike,// Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 좋아요한 게시물 조회\ngetTrilogDetail:getTrilogDetail,// Trilog 게시물 상세 조회\naddTrilog:addTrilog,// Trilog 메인 게시물 등록\nremoveTrilog:removeTrilog,// Trilog 메인 게시물 삭제\nsetLikeTrilog:setLikeTrilog,// Trilog 메인 게시물 좋아요\nsetLikeTrilogDetail:setLikeTrilogDetail,// Trilog 상세 게시물 좋아요\ngetParentCommentScroll:getParentCommentScroll,// Trilog 상세 게시물 - 부모 댓글 더 보기\naddParentComment:addParentComment,// Trilog 상세 게시물 - 부모 댓글 추가\neditParentComment:editParentComment,// Trilog 상세 게시물 - 부모 댓글 수정\nremoveParentComment:removeParentComment,// Trilog 상세 게시물 - 부모 댓글 삭제\nsetParentCommentLike:setParentCommentLike// Trilog 상세 게시물 - 부모 댓글 좋아요\n};var _trilogSlice$actions=trilogSlice.actions,setMainLoading=_trilogSlice$actions.setMainLoading,setDetailLoading=_trilogSlice$actions.setDetailLoading,setTrilogMainAdd=_trilogSlice$actions.setTrilogMainAdd,setTrilogMainEdit=_trilogSlice$actions.setTrilogMainEdit,setTrilogMain=_trilogSlice$actions.setTrilogMain,setTrilogMainFilter=_trilogSlice$actions.setTrilogMainFilter,setTrilogMainPage=_trilogSlice$actions.setTrilogMainPage,setTrilogLike=_trilogSlice$actions.setTrilogLike,removeTrilogDetail=_trilogSlice$actions.removeTrilogDetail,setTrilogParentCommentPage=_trilogSlice$actions.setTrilogParentCommentPage,setTrilogDetail=_trilogSlice$actions.setTrilogDetail,setTrilogParentComment=_trilogSlice$actions.setTrilogParentComment,addTrilogParentCommentScroll=_trilogSlice$actions.addTrilogParentCommentScroll,editTrilogParentComment=_trilogSlice$actions.editTrilogParentComment,removeTrilogParentComment=_trilogSlice$actions.removeTrilogParentComment,setTrilogDetailLike=_trilogSlice$actions.setTrilogDetailLike,addTrilogParentComment=_trilogSlice$actions.addTrilogParentComment,setTrilogParentCommentLike=_trilogSlice$actions.setTrilogParentCommentLike;export{setMainLoading,setDetailLoading,setTrilogMainAdd,setTrilogMainEdit,setTrilogMain,setTrilogMainFilter,setTrilogMainPage,setTrilogLike,removeTrilogDetail,setTrilogParentCommentPage,setTrilogDetail,setTrilogParentComment,addTrilogParentCommentScroll,editTrilogParentComment,removeTrilogParentComment,setTrilogDetailLike,addTrilogParentComment,setTrilogParentCommentLike};export default trilogSlice.reducer;export{actionCreators};","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/redux/modules/trilog.js"],"names":["createSlice","produce","config","Swal","trilogSlice","name","initialState","main","list","is_last","page","filter","detail","parent_comment","loading","main_loading","detail_loading","reducers","setMainLoading","state","action","draft","payload","setDetailLoading","setTrilogMainAdd","results","last","setTrilogMainEdit","length","idx","findIndex","e","information","id","parseInt","title","address","description","imageUrlList","thumbNailUrl","imageFilePath","setTrilogMain","setTrilogMainFilter","setTrilogMainPage","setTrilogLike","member","isLike","likeNum","removeTrilogDetail","setTrilogParentCommentPage","setTrilogDetail","setTrilogParentComment","addTrilogParentCommentScroll","editTrilogParentComment","commentParent","contents","createdAt","removeTrilogParentComment","splice","setTrilogDetailLike","addTrilogParentComment","commentNum","setTrilogParentCommentLike","user","getTrilogMain","keyword","dispatch","getState","history","access_token","localStorage","getItem","trilog","fetch","method","headers","then","res","json","data","catch","err","console","log","getTrilogMainFilter","getTrilogMainMyPage","api","Accept","Authorization","getTrilogMainMyPageLike","getTrilogDetail","comment","addTrilog","is_edit","body","JSON","stringify","status","fire","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","push","msg","window","scrollTo","removeTrilog","replace","setLikeTrilog","setLikeTrilogDetail","getParentCommentScroll","addParentComment","editParentComment","removeParentComment","setParentCommentLike","actionCreators","actions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { produce } from 'immer'; // 불변성 유지\r\nimport { config } from \"./config\";\r\nimport Swal from \"sweetalert2\";\r\n\r\n/* Trilog - 트릴로그 */\r\nconst trilogSlice = createSlice({\r\n    name : \"trilog\",\r\n    initialState : {\r\n        main : {\r\n            list : [],\r\n            is_last : false,\r\n            page : 1,\r\n            filter : 'likeNum',\r\n        },\r\n        detail : {},\r\n        parent_comment : {\r\n            list : [],\r\n            is_last : false,\r\n            page : 1\r\n        },\r\n        loading : {\r\n            main_loading : true,\r\n            detail_loading : true,\r\n        }\r\n    },\r\n    reducers: {\r\n        // Trilog 메인 페이지 - 내용 로딩 여부\r\n        setMainLoading : (state, action) => produce(state, (draft) => {\r\n            draft.loading.main_loading = action.payload;\r\n        }),\r\n        // Trilog 상세 페이지 - 내용 로딩 여부\r\n        setDetailLoading : (state, action) => produce(state, (draft) => {\r\n            draft.loading.detail_loading = action.payload;\r\n        }),\r\n        // Trilog 메인 페이지 - 무한 스크롤 더 가져오기\r\n        setTrilogMainAdd : (state, action) => produce(state, (draft) => {\r\n            draft.main.list = [...draft.main.list, ...action.payload.results];\r\n            draft.main.is_last = action.payload.last;\r\n        }),\r\n        // Trilog 수정 페이지 - 게시글 수정\r\n        setTrilogMainEdit : (state, action) => produce(state, (draft) => {\r\n            if(draft.main.list.length > 0) {\r\n                let idx = draft.main.list.findIndex((e) => e.information.id === parseInt(action.payload.id));\r\n                draft.main.list[idx].information.title = action.payload.title;\r\n                draft.main.list[idx].information.address = action.payload.address;\r\n                draft.main.list[idx].information.description = action.payload.description;\r\n    \r\n                if(action.payload.imageUrlList.length !== 0) {\r\n                    draft.main.list[idx].information.thumbNailUrl = action.payload.imageUrlList[0].imageFilePath;\r\n                } else {\r\n                    draft.main.list[idx].information.thumbNailUrl = '';\r\n                }\r\n            }\r\n        }),\r\n        // Trilog 메인 페이지 - 게시글 조회\r\n        setTrilogMain : (state, action) => produce(state, (draft) => {\r\n            draft.main.list = action.payload.results;\r\n            draft.main.is_last = action.payload.last;\r\n        }),\r\n        // Trilog 메인 페이지 - 필터 설정\r\n        setTrilogMainFilter : (state, action) => produce(state, (draft) => {\r\n            draft.main.filter = action.payload;\r\n        }),\r\n        // Trilog 메인 페이지 - 무한 스크롤 페이지 설정(다음 게시물이 있나 없나)\r\n        setTrilogMainPage : (state, action) => produce(state, (draft) => {\r\n            draft.main.page = action.payload;\r\n        }),\r\n        // Trilog 메인 페이지 - 게시글 좋아요\r\n        setTrilogLike : (state, action) => produce(state, (draft) => {\r\n            let idx = draft.main.list.findIndex((e) => e.information.id === action.payload);\r\n            draft.main.list[idx].member.isLike = !draft.main.list[idx].member.isLike;\r\n            if(draft.main.list[idx].member.isLike) {\r\n                draft.main.list[idx].information.likeNum += 1;\r\n            } else {\r\n                draft.main.list[idx].information.likeNum -= 1;\r\n            }\r\n        }),\r\n        // Trilog 상세 페이지 - 게시물 삭제\r\n        removeTrilogDetail : (state, action) => produce(state, (draft) => {\r\n            draft.main.list = draft.main.list.filter((e) => e.information.id !== parseInt(action.payload));\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 페이징 설정(다음 부모 댓글 있나 없나)\r\n        setTrilogParentCommentPage : (state, action) => produce(state, (draft) => {\r\n            draft.parent_comment.page = action.payload;\r\n        }),\r\n        // Trilog 상세 페이지 - 해당 게시글 조회\r\n        setTrilogDetail : (state, action) => produce(state, (draft) => {\r\n            draft.detail = action.payload.results;\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 조회\r\n        setTrilogParentComment : (state, action) => produce(state, (draft) => {\r\n            draft.parent_comment.list = action.payload.results;\r\n            draft.parent_comment.is_last = action.payload.last;\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 페이징(다음 부모 댓글 조회)\r\n        addTrilogParentCommentScroll : (state, action) => produce(state, (draft) => {\r\n            draft.parent_comment.list = [...draft.parent_comment.list, ...action.payload.results];\r\n            draft.parent_comment.is_last = action.payload.last;\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 수정\r\n        editTrilogParentComment : (state, action) => produce(state, (draft) => {\r\n            let idx = draft.parent_comment.list.findIndex((e) => e.commentParent.id === action.payload.results.commentParent.id);\r\n            draft.parent_comment.list[idx].commentParent.contents = action.payload.results.commentParent.contents;\r\n            draft.parent_comment.list[idx].commentParent.createdAt = action.payload.results.commentParent.createdAt;\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 삭제\r\n        removeTrilogParentComment : (state, action) => produce(state, (draft) => {\r\n            let idx = draft.parent_comment.list.findIndex((e) => e.commentParent.id === action.payload);\r\n            draft.parent_comment.list.splice(idx, 1);\r\n        }),\r\n        // Trilog 상세 페이지 - 게시글 좋아요\r\n        setTrilogDetailLike : (state, action) => produce(state, (draft) => {\r\n            if(draft.detail.member.isLike){\r\n                draft.detail.information.likeNum -= 1;\r\n            } else {\r\n                draft.detail.information.likeNum += 1;\r\n            }\r\n            \r\n            draft.detail.member.isLike = !draft.detail.member.isLike;\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 작성\r\n        addTrilogParentComment : (state, action) => produce(state, (draft) => {\r\n            draft.parent_comment.list = [...draft.parent_comment.list, action.payload.results];\r\n            draft.detail.information.commentNum += 1;\r\n        }),\r\n        // Trilog 상세 페이지 - 부모 댓글 좋아요\r\n        setTrilogParentCommentLike: (state, action) => produce(state, (draft) => {\r\n            let idx = draft.parent_comment.list.findIndex((e) => e.commentParent.id === action.payload);\r\n            if(draft.parent_comment.list[idx].user.isLike){\r\n                draft.parent_comment.list[idx].commentParent.likeNum -= 1;\r\n                draft.parent_comment.list[idx].user.isLike = !draft.parent_comment.list[idx].user.isLike;\r\n            } else {\r\n                draft.parent_comment.list[idx].commentParent.likeNum += 1;\r\n                draft.parent_comment.list[idx].user.isLike = !draft.parent_comment.list[idx].user.isLike;\r\n            }\r\n        }),\r\n    },\r\n});\r\n\r\n// Trilog 메인 게시물 조회\r\nconst getTrilogMain = (filter, keyword) => {\r\n    return function (dispatch, getState, { history }) {\r\n        dispatch(setMainLoading(true));\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const page = getState().trilog.main.page;\r\n        fetch(`${config}/api/all/boards?page=${page}&filter=${filter}&keyword=${keyword}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization' : `${access_token}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(page === 1){\r\n                dispatch(setTrilogMain(data));\r\n            } else {\r\n                dispatch(setTrilogMainAdd(data));\r\n            }\r\n            \r\n            if(!data.last) {\r\n                dispatch(setTrilogMainPage(page + 1));\r\n            } else {\r\n                dispatch(setTrilogMainPage(1));\r\n            }\r\n        })\r\n        .catch(err => console.log(err, \"메인 error\"));\r\n        dispatch(setMainLoading(false));\r\n    };\r\n};\r\n\r\n// Trilog 메인 게시물 조회 - 필터 및 검색 적용시\r\nconst getTrilogMainFilter = (filter, keyword) => {\r\n    return function (dispatch, getState, { history }) {\r\n        dispatch(setMainLoading(true));\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const page = 1;\r\n        fetch(`${config}/api/all/boards?page=${page}&filter=${filter}&keyword=${keyword}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization' : `${access_token}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(page === 1){\r\n                dispatch(setTrilogMain(data));\r\n            } else {\r\n                dispatch(setTrilogMainAdd(data));\r\n            }\r\n            \r\n            if(!data.last) {\r\n                dispatch(setTrilogMainPage(page + 1));\r\n            } else {\r\n                dispatch(setTrilogMainPage(1));\r\n            }\r\n        })\r\n        .catch(err => console.log(err, \"메인 필터 error\"));\r\n\r\n        dispatch(setMainLoading(false));\r\n        dispatch(setTrilogMainFilter(filter));\r\n    };\r\n};\r\n\r\n// Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 쓴 글 조회\r\nconst getTrilogMainMyPage = () => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const api = `${config}/api/boards/member`;\r\n    \r\n        fetch(api, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n            Authorization: `${access_token}`,\r\n          },\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            dispatch(setTrilogMain(data));\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      };\r\n};\r\n\r\n// Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 좋아요한 게시물 조회\r\nconst getTrilogMainMyPageLike = () => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const api = `${config}/api/boards/member/like`;\r\n    \r\n        fetch(api, {\r\n          method: \"GET\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Accept: \"application/json\",\r\n            Authorization: `${access_token}`,\r\n          },\r\n        })\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            dispatch(setTrilogMain(data));\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      };\r\n};\r\n\r\n// Trilog 게시물 상세 조회\r\nconst getTrilogDetail = (id) => {\r\n    return async function (dispatch, getState, { history }) {\r\n        dispatch(setDetailLoading(true));\r\n        const page = getState().trilog.parent_comment.page;\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const detail = await fetch(`${config}/api/all/boards/detail/${id}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization' : `${access_token}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => data)\r\n        .catch(err => console.log(err, 'trilog detail'));\r\n\r\n        const comment = await fetch(`${config}/api/all/boards/comments/parents/${id}?page=1`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization' : `${access_token}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(!data.last) {\r\n                dispatch(setTrilogParentCommentPage(page + 1));\r\n            } else {\r\n                dispatch(setTrilogParentCommentPage(1));\r\n            }\r\n            return data;\r\n        })\r\n        .catch(err => console.log(err, 'trilog parent comment'));\r\n\r\n        dispatch(setTrilogDetail(detail));\r\n        dispatch(setTrilogParentComment(comment));\r\n        dispatch(setDetailLoading(false));\r\n    };\r\n};\r\n\r\n// Trilog 메인 게시물 등록\r\nconst addTrilog = (trilog) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const filter = getState().trilog.main.filter;\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        if(trilog.is_edit) {\r\n            fetch(`${config}/api/boards/${trilog.id}`, {\r\n                method: 'PUT',\r\n                headers : {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                    'Authorization': `${access_token}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    title : trilog.title,\r\n                    address : trilog.address,\r\n                    description : trilog.description,\r\n                    imageUrlList : trilog.imageUrlList,\r\n                })\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if(data.status === 401) {\r\n                    Swal.fire({\r\n                        title: \"로그인\",\r\n                        text: \"로그인을 먼저 해주세요.\",\r\n                        icon: \"warning\",\r\n                        showCancelButton: true,\r\n                        confirmButtonColor: \"#3085d6\",\r\n                        cancelButtonColor: \"#d33\",\r\n                        confirmButtonText: \"로그인하기\",\r\n                        cancelButtonText: \"닫기\",\r\n                    }).then((result) => {\r\n                        if (result.isConfirmed) {\r\n                            history.push(\"/login\");\r\n                        }\r\n                    });\r\n                } else if(data.status === 200) {\r\n                    Swal.fire({\r\n                        title: data.msg,\r\n                        icon: \"success\",\r\n                    });\r\n                    window.scrollTo(0, 0);\r\n                    dispatch(setTrilogMainEdit(trilog));\r\n                    history.push('/trilog');\r\n                } else {\r\n                    Swal.fire({\r\n                        title: data.msg,\r\n                        icon: \"warning\",\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => console.log(err, 'Trilog Edit'))\r\n        } else {\r\n            fetch(`${config}/api/boards/`, {\r\n                method: 'POST',\r\n                headers : {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                    'Authorization': `${access_token}`,\r\n                },\r\n                body: JSON.stringify({\r\n                    title : trilog.title,\r\n                    address : trilog.address,\r\n                    description : trilog.description,\r\n                    imageUrlList : trilog.imageUrlList,\r\n                })\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                if(data.status === 401) {\r\n                    Swal.fire({\r\n                        title: \"로그인\",\r\n                        text: \"로그인을 먼저 해주세요.\",\r\n                        icon: \"warning\",\r\n                        showCancelButton: true,\r\n                        confirmButtonColor: \"#3085d6\",\r\n                        cancelButtonColor: \"#d33\",\r\n                        confirmButtonText: \"로그인하기\",\r\n                        cancelButtonText: \"닫기\",\r\n                    }).then((result) => {\r\n                        if (result.isConfirmed) {\r\n                            history.push(\"/login\");\r\n                        }\r\n                    });\r\n                } else if(data.status === 200) {\r\n                    Swal.fire({\r\n                        title: data.msg,\r\n                        icon: \"success\",\r\n                    });\r\n                    window.scrollTo(0, 0);\r\n                    dispatch(setTrilogMainPage(1));\r\n                    dispatch(setTrilogMainFilter(\"likeNum\"));\r\n                    dispatch(getTrilogMain(\"likeNum\", \"\"));\r\n                    history.push('/trilog');\r\n                } else {\r\n                    Swal.fire({\r\n                        title: data.msg,\r\n                        icon: \"warning\",\r\n                    });\r\n                }\r\n            })\r\n            .catch(err => console.log(err, 'Trilog Add'))\r\n        }\r\n    };\r\n};\r\n\r\n// Trilog 메인 게시물 삭제\r\nconst removeTrilog = (id) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        fetch(`${config}/api/boards/${id}`, {\r\n            method: 'DELETE',\r\n            headers : {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401) {\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else if(data.status === 200) {\r\n                dispatch(removeTrilogDetail(id));\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"success\",\r\n                });\r\n                history.replace('/trilog');\r\n            } else {\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"warning\",\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(err, 'Trilog Delete'))\r\n    };\r\n};\r\n\r\n// Trilog 메인 게시물 좋아요\r\nconst setLikeTrilog = (id) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        fetch(`${config}/api/boards/like/${id}`, {\r\n            method : 'POST',\r\n            headers : {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401){\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else {\r\n                dispatch(setTrilogLike(id));\r\n            }\r\n        })\r\n        .catch(err => console.log(err, 'trilog like'));\r\n    };\r\n};\r\n\r\n// Trilog 상세 게시물 좋아요\r\nconst setLikeTrilogDetail = (id) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        fetch(`${config}/api/boards/like/${id}`, {\r\n            method : 'POST',\r\n            headers : {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401){\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else {\r\n                dispatch(setTrilogDetailLike());\r\n            }\r\n        })\r\n        .catch(err => console.log(err, 'trilog detail like'));\r\n    };\r\n};\r\n\r\n// Trilog 상세 게시물 - 부모 댓글 더 보기\r\nconst getParentCommentScroll = (id) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const page = getState().trilog.parent_comment.page;\r\n        fetch(`${config}/api/all/boards/comments/parents/${id}?page=${page}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Authorization' : `${access_token}`\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401) {\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else if(data.status === 200) {\r\n                if(!data.last) {\r\n                    dispatch(setTrilogParentCommentPage(page + 1));\r\n                } else {\r\n                    dispatch(setTrilogParentCommentPage(1));\r\n                }\r\n    \r\n                dispatch(addTrilogParentCommentScroll(data));\r\n            } else {\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"warning\",\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(err, \"parent comment scroll error\"));\r\n    }\r\n};\r\n\r\n// Trilog 상세 게시물 - 부모 댓글 추가\r\nconst addParentComment = (id, contents) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        fetch(`${config}/api/boards/comments/parents/${id}`, {\r\n            method : 'POST',\r\n            headers : {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            },\r\n            body: JSON.stringify({\r\n                contents: contents,\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401) {\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else if(data.status === 200) {\r\n                dispatch(addTrilogParentComment(data));\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"success\",\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"warning\",\r\n                });\r\n            }\r\n            \r\n        })\r\n        .catch(err => console.log(err, 'add comment trilog'));\r\n    };\r\n};\r\n\r\n// Trilog 상세 게시물 - 부모 댓글 수정\r\nconst editParentComment = (id, contents) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        fetch(`${config}/api/boards/comments/parents/${id}`, {\r\n            method : 'PUT',\r\n            headers : {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            },\r\n            body: JSON.stringify({\r\n                contents: contents,\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401) {\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else if(data.status === 200) {\r\n                dispatch(editTrilogParentComment(data));\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"success\",\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"warning\",\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(err, 'edit comment trilog'));\r\n    };\r\n};\r\n\r\n// Trilog 상세 게시물 - 부모 댓글 삭제\r\nconst removeParentComment = (id) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        fetch(`${config}/api/boards/comments/parents/${id}`, {\r\n            method : 'DELETE',\r\n            headers : {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401) {\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else if(data.status === 200) {\r\n                dispatch(removeTrilogParentComment(id));\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"success\",\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"warning\",\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(err, 'remove comment trilog'));\r\n    };\r\n};\r\n\r\n// Trilog 상세 게시물 - 부모 댓글 좋아요\r\nconst setParentCommentLike = (id) => {\r\n    return function (dispatch, getState, { history }) {\r\n        const access_token = localStorage.getItem(\"access_token\");\r\n        const api = `${config}/api/boards/comments/parents/like/${id}`;\r\n\r\n        fetch(api, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Accept': 'application/json',\r\n                'Authorization': `${access_token}`,\r\n            },\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            if(data.status === 401) {\r\n                Swal.fire({\r\n                    title: \"로그인\",\r\n                    text: \"로그인을 먼저 해주세요.\",\r\n                    icon: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonColor: \"#3085d6\",\r\n                    cancelButtonColor: \"#d33\",\r\n                    confirmButtonText: \"로그인하기\",\r\n                    cancelButtonText: \"닫기\",\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        history.push(\"/login\");\r\n                    }\r\n                });\r\n            } else if(data.status === 200) {\r\n                dispatch(setTrilogParentCommentLike(id));\r\n            } else {\r\n                Swal.fire({\r\n                    title: data.msg,\r\n                    icon: \"warning\",\r\n                });\r\n            }\r\n        })\r\n        .catch(err => console.log(err, 'comment like'));\r\n    };\r\n};\r\n\r\n\r\nconst actionCreators = {\r\n    getTrilogMain, // Trilog 메인 게시물 조회\r\n    getTrilogMainFilter, // Trilog 메인 게시물 조회 - 필터 및 검색 적용시\r\n    getTrilogMainMyPage, // Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 쓴 글 조회\r\n    getTrilogMainMyPageLike, // Trilog 마이 페이지 게시물 조회 - 마이 페이지 내가 좋아요한 게시물 조회\r\n    getTrilogDetail, // Trilog 게시물 상세 조회\r\n    addTrilog, // Trilog 메인 게시물 등록\r\n    removeTrilog, // Trilog 메인 게시물 삭제\r\n    setLikeTrilog, // Trilog 메인 게시물 좋아요\r\n    setLikeTrilogDetail, // Trilog 상세 게시물 좋아요\r\n    getParentCommentScroll, // Trilog 상세 게시물 - 부모 댓글 더 보기\r\n    addParentComment, // Trilog 상세 게시물 - 부모 댓글 추가\r\n    editParentComment, // Trilog 상세 게시물 - 부모 댓글 수정\r\n    removeParentComment, // Trilog 상세 게시물 - 부모 댓글 삭제\r\n    setParentCommentLike, // Trilog 상세 게시물 - 부모 댓글 좋아요\r\n};\r\n\r\nexport const { \r\n    setMainLoading, // Trilog 메인 페이지 - 내용 로딩 여부\r\n    setDetailLoading, // Trilog 상세 페이지 - 내용 로딩 여부\r\n    setTrilogMainAdd, // Trilog 메인 페이지 - 무한 스크롤 더 가져오기\r\n    setTrilogMainEdit, // Trilog 수정 페이지 - 게시글 수정\r\n    setTrilogMain, // Trilog 메인 페이지 - 게시글 조회\r\n    setTrilogMainFilter, // Trilog 메인 페이지 - 필터 설정\r\n    setTrilogMainPage, // Trilog 메인 페이지 - 무한 스크롤 페이지 설정(다음 게시물이 있나 없나)\r\n    setTrilogLike, // Trilog 메인 페이지 - 게시글 좋아요\r\n    removeTrilogDetail, // Trilog 상세 페이지 - 게시물 삭제\r\n    setTrilogParentCommentPage, // Trilog 상세 페이지 - 부모 댓글 페이징 설정(다음 부모 댓글 있나 없나)\r\n    setTrilogDetail, // Trilog 상세 페이지 - 해당 게시글 조회\r\n    setTrilogParentComment, // Trilog 상세 페이지 - 부모 댓글 조회\r\n    addTrilogParentCommentScroll, // Trilog 상세 페이지 - 부모 댓글 페이징(다음 부모 댓글 조회)\r\n    editTrilogParentComment, // Trilog 상세 페이지 - 부모 댓글 수정\r\n    removeTrilogParentComment, // Trilog 상세 페이지 - 부모 댓글 삭제\r\n    setTrilogDetailLike, // Trilog 상세 페이지 - 게시글 좋아요\r\n    addTrilogParentComment, // Trilog 상세 페이지 - 부모 댓글 작성\r\n    setTrilogParentCommentLike, // Trilog 상세 페이지 - 부모 댓글 좋아요\r\n} = trilogSlice.actions;\r\nexport default trilogSlice.reducer;\r\nexport { actionCreators };"]},"metadata":{},"sourceType":"module"}