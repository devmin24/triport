{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _objectSpread from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19;import Video from\"components/trils/Video\";import React,{useEffect,useRef,useState,Fragment}from\"react\";import{history}from\"redux/configureStore\";import{QuestionMark,Plus,Arrow}from\"media/svg/Svg\";import styled,{keyframes}from\"styled-components\";import TrilsDetail from\"../components/trils/TrilsDetail\";import{TrilsActions}from\"redux/modules/trils\";import{useDispatch,useSelector}from\"react-redux\";import Swal from\"sweetalert2\";import SearchIcon from\"@material-ui/icons/Search\";import InfinityScroll from\"shared/TrillsInfinityScroll\";import Tripper from\"media/image/triport_airplane.png\";import Fade from\"react-reveal/Fade\";import TrilsDetailTutorial from\"components/trils/TrilsDetailTutorial\";import TrilsTutorial from\"components/trils/TrilsTutorial\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Trils=function Trils(props){var is_login=useSelector(function(state){return state.user.is_login;});var dispatch=useDispatch();var post_list=useSelector(function(state){return state.trils.data;});var modal=useSelector(function(state){return state.trils.modal;});var is_last=useSelector(function(state){return state.trils.is_last;});var _useState=useState(true),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],_setFilter=_useState2[1];var filterRef=useRef(filter);var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),tutorial=_useState4[0],setTutorial=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),TDetailModal=_useState6[0],setTDM=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),keyword=_useState8[0],setKeyword=_useState8[1];/* 필터 기능 - 좋아요순 최신순 */var tabToggle=function tabToggle(e){var tab=document.getElementById(\"FilterTab\");var like=document.getElementById(\"LikeText\");var newest=document.getElementById(\"NewestText\");var setFilter=function setFilter(data){filterRef.current=data;_setFilter(data);};if(tab.style.left!==\"50%\"){tab.style.left=\"50%\";like.style.color=\"#89ACFF\";newest.style.color=\"#fff\";}else{tab.style.left=\"0%\";like.style.color=\"#fff\";newest.style.color=\"#89ACFF\";}if(filter){// 최신순\ndispatch(TrilsActions.filterPost(e.target.value,\"createdAt\"));}else{// 좋아요순\ndispatch(TrilsActions.filterPost(e.target.value,\"likeNum\"));}setFilter(!filter);};useEffect(function(){window.scrollTo(0,0);console.log(\"%c✈트리포트에 오신걸 환영합니다!\",'font-family: \"paybooc-Bold\";color:#89acff; font-size:30px; font-weight: bold;');dispatch(TrilsActions.setPost());},[dispatch]);var searching=function searching(e){if(window.event.keyCode===13){// 좋아요순\nhistory.push(\"/search?q=\".concat(keyword,\"&filter=likeNum\"));}};var searchClick=function searchClick(e){history.push(\"/search?q=\".concat(keyword,\"&filter=likeNum\"));};var scroll=function scroll(){var filter_scroll=filterRef.current;if(filter_scroll){// 좋아요순\ndispatch(TrilsActions.getPost(\"\",\"likeNum\"));}else{// 최신순\ndispatch(TrilsActions.getPost(\"\",\"createdAt\"));}};var write=function write(){if(!is_login){Swal.fire({title:\"로그인을 해주세요.\",text:\"로그인 후 글작성이 가능합니다.\",icon:\"warning\",showCancelButton:true,confirmButtonColor:\"#3085d6\",cancelButtonColor:\"#d33\",confirmButtonText:\"로그인하기\",cancelButtonText:\"닫기\"}).then(function(result){if(result.isConfirmed){history.push(\"/login\");}});}else{history.push(\"/trils/write\");}};var top=function top(){window.scrollTo({top:0,behavior:\"smooth\"});};return/*#__PURE__*/_jsxs(Container,{children:[modal?/*#__PURE__*/_jsx(TrilsDetail,{history:history}):null,TDetailModal?/*#__PURE__*/_jsx(TrilsDetailTutorial,{history:history,close:function close(){setTDM(false);}}):null,/*#__PURE__*/_jsxs(FloatingBox,{children:[/*#__PURE__*/_jsx(FloatingTutorial,{tutorial:tutorial,onClick:function onClick(){if(tutorial){setTutorial(false);}else{setTutorial(true);}},children:tutorial?/*#__PURE__*/_jsx(CloseTutorial,{children:\"\\uC0AC\\uC6A9\\uC790 \\uAC00\\uC774\\uB4DC \\uB2EB\\uAE30\"}):/*#__PURE__*/_jsx(QuestionMark,{})}),/*#__PURE__*/_jsx(FloatingGoTop,{onClick:top,children:/*#__PURE__*/_jsx(Arrow,{})}),/*#__PURE__*/_jsx(FloatingWrite,{onClick:write,children:/*#__PURE__*/_jsx(Plus,{})})]}),/*#__PURE__*/_jsx(SearchContainer,{children:/*#__PURE__*/_jsxs(SearchWrapper,{children:[/*#__PURE__*/_jsx(Search,{type:\"text\",placeholder:\"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",onKeyPress:searching,onChange:function onChange(e){setKeyword(e.target.value);}}),/*#__PURE__*/_jsx(SearchIcon,{onClick:searchClick})]})}),/*#__PURE__*/_jsxs(FilterContainer,{children:[/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Background,{id:\"FilterTab\"}),/*#__PURE__*/_jsx(LikeFilter,{onClick:tabToggle,children:/*#__PURE__*/_jsx(\"span\",{id:\"LikeText\",children:\"\\uC88B\\uC544\\uC694\\uC21C\"})}),/*#__PURE__*/_jsx(NewestFilter,{onClick:tabToggle,children:/*#__PURE__*/_jsx(\"span\",{id:\"NewestText\",children:\"\\uCD5C\\uC2E0\\uC21C\"})})]}),/*#__PURE__*/_jsx(MoveTripper,{children:/*#__PURE__*/_jsx(\"img\",{src:Tripper,alt:\"\\uB180\\uC790\"})})]}),/*#__PURE__*/_jsx(PostLine,{tutorial:tutorial,children:tutorial?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Fade,{bottom:true,children:/*#__PURE__*/_jsx(TrilsTutorial,{history:history,open:function open(){setTDM(true);}})})}):/*#__PURE__*/_jsx(_Fragment,{children:!post_list||post_list.length===0?/*#__PURE__*/_jsx(_Fragment,{}):/*#__PURE__*/_jsx(InfinityScroll,{callNext:scroll,is_next:is_last,children:post_list.map(function(p,idx){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Fade,{bottom:true,children:/*#__PURE__*/_jsx(Video,_objectSpread(_objectSpread({},p),{},{history:history}))})},idx);})})})})]});};var Opacity=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  0% {\\n    opacity: 0;\\n  }\\n  30% {\\n    opacity: 0;\\n  }\\n  100% {\\n    opacity: 1;\\n  }\\n\"])));var CloseTutorial=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  animation: \",\" 1s;\\n  font-family: \\\"paybooc-Bold\\\";\\n  color: white;\\n  right: 50%;\\n  user-select: none;\\n\"])),Opacity);var Move=keyframes(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  0% {\\n    transform : translateX(-1500%);\\n  }\\n  100% {\\n    transform : translateX(0%);\\n  }\\n\"])));var MoveTripper=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  animation: \",\" 5s;\\n  margin: 0 1rem 0 0;\\n  & img {\\n    width: 4rem;\\n  }\\n  @media only screen and (max-width: 870px) {\\n    display: none;\\n  }\\n\"])),Move);var SearchWrapper=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 40.625rem;\\n  border: 1px solid rgb(43, 97, 225, 0.6);\\n  border-radius: 5px;\\n  outline: none;\\n  padding: 0.75rem 1.25rem;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  box-shadow: 0px 3px 6px #00000029;\\n  @media only screen and (max-width: 720px) {\\n    width: 80%;\\n  }\\n\\n  & svg {\\n    fill: rgb(43, 97, 225);\\n    cursor: pointer;\\n  }\\n\"])));var Container=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin: 0 auto;\\n  width: 80rem;\\n  @media only screen and (max-width: 1280px) {\\n    width: 850px;\\n  }\\n  @media only screen and (max-width: 870px) {\\n    width: 410px;\\n  }\\n  @media only screen and (max-width: 420px) {\\n    width: calc(100% - 20px);\\n  }\\n\"])));var NewestFilter=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n\\n  & span {\\n    font-family: \\\"paybooc-Bold\\\";\\n    font-size: 14px;\\n    letter-spacing: 0px;\\n    color: #89acff;\\n    z-index: 10;\\n    transition: color 0.3s;\\n  }\\n\"])));var LikeFilter=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  height: 100%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n\\n  & span {\\n    font-family: \\\"paybooc-Bold\\\";\\n    font-size: 14px;\\n    letter-spacing: 0px;\\n    color: #fff;\\n    z-index: 10;\\n    transition: color 0.3s;\\n  }\\n\"])));var Background=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  width: 50%;\\n  height: 100%;\\n  left: 0;\\n  background: #2b61e1 0% 0% no-repeat padding-box;\\n  border-radius: 5px;\\n  transition: left 0.5s;\\n\"])));var Filter=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 14.125rem;\\n  height: 2.5rem;\\n  background: #f4f4f4 0% 0% no-repeat padding-box;\\n  box-shadow: 0px 3px 6px #00000029;\\n  border-radius: 5px;\\n  display: flex;\\n  @media only screen and (min-width: 425px) and (max-width: 1280px) {\\n    margin-right: 1rem;\\n  }\\n\"])));var FilterContainer=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  flex-direction: row-reverse;\\n  align-items: center;\\n  margin-bottom: 4rem;\\n  @media only screen and (max-width: 870px) {\\n    margin-bottom: 1rem;\\n    justify-content: center;\\n  }\\n\"])));// const Search = styled.input`\n//   width: 40.625rem;\n//   border: 1px solid rgb(43, 97, 225, 0.6);\n//   border-radius: 5px;\n//   outline: none;\n//   padding: 0.75rem 1.25rem;\n// `;\nvar Search=styled.input(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  border: none;\\n  outline: none;\\n  width: 38rem;\\n  @media only screen and (max-width: 870px) {\\n    width: 100%;\\n  }\\n\"])));var SearchContainer=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n  margin-bottom: 50px;\\n  @media only screen and (max-width: 540px) {\\n    margin-bottom: 1rem;\\n  }\\n\"])));var CenterDiv=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  margin: 0 auto;\\n  width: 80rem;\\n\"])));var PostLine=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  display: grid;\\n  width: 100%;\\n  grid-template-columns: \",\";\\n  /* grid-template-rows: repeat(auto-fit, 45rem); */\\n  /* row-gap: 2rem; */\\n  justify-items: center;\\n  max-width: 80rem;\\n  margin: 0px auto;\\n  margin-bottom: 4.3rem;\\n  flex-wrap: wrap;\\n  @media only screen and (max-width: 1280px) {\\n    grid-template-columns: \",\";\\n  }\\n  @media only screen and (max-width: 870px) {\\n    grid-template-columns: 1fr;\\n  }\\n\"])),function(props){return props.tutorial?\"1fr\":\"1fr 1fr 1fr\";},function(props){return props.tutorial?\"1fr\":\"1fr 1fr\";});var FloatingBox=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  bottom: 56px;\\n  right: 3%;\\n  z-index: 50;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-end;\\n  @media only screen and (max-width: 425px) {\\n    right: 6%;\\n  }\\n\"])));var FloatingTutorial=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  width: \",\";\\n  height: 3.125rem;\\n  cursor: pointer;\\n  z-index: 50;\\n  background: linear-gradient(to bottom right, #52a0fd, #00e2fa);\\n  /* background-color: #2b61e1; */\\n  border-radius: 25px;\\n  transform-origin: center center;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  transition: 0.5s ease-in-out;\\n  & svg {\\n    width: 60%;\\n    height: 60%;\\n    fill: #ffffff;\\n    animation: \",\" 1s;\\n  }\\n  margin-bottom: 0.5rem;\\n\"])),function(props){return props.tutorial?\"10rem\":\"3.125rem\";},Opacity);var FloatingGoTop=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  width: 3.125rem;\\n  height: 3.125rem;\\n  cursor: pointer;\\n  z-index: 50;\\n  background-color: #2b61e1;\\n  border-radius: 25px;\\n  transform: rotate(-90deg);\\n  transform-origin: center center;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  & svg {\\n    width: 60%;\\n    height: 60%;\\n    fill: #ffffff;\\n  }\\n  margin-bottom: 0.5rem;\\n\"])));var FloatingWrite=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  width: 3.125rem;\\n  height: 3.125rem;\\n  cursor: pointer;\\n  z-index: 50;\\n  & svg {\\n    width: 100%;\\n    height: 100%;\\n    fill: #2b61e1;\\n  }\\n\"])));export default Trils;","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/pages/Trils.js"],"names":["Video","React","useEffect","useRef","useState","Fragment","history","QuestionMark","Plus","Arrow","styled","keyframes","TrilsDetail","TrilsActions","useDispatch","useSelector","Swal","SearchIcon","InfinityScroll","Tripper","Fade","TrilsDetailTutorial","TrilsTutorial","Trils","props","is_login","state","user","dispatch","post_list","trils","data","modal","is_last","filter","_setFilter","filterRef","tutorial","setTutorial","TDetailModal","setTDM","keyword","setKeyword","tabToggle","e","tab","document","getElementById","like","newest","setFilter","current","style","left","color","filterPost","target","value","window","scrollTo","console","log","setPost","searching","event","keyCode","push","searchClick","scroll","filter_scroll","getPost","write","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","top","behavior","length","map","p","idx","Opacity","CloseTutorial","div","Move","MoveTripper","SearchWrapper","Container","NewestFilter","LikeFilter","Background","Filter","FilterContainer","Search","input","SearchContainer","CenterDiv","PostLine","FloatingBox","FloatingTutorial","FloatingGoTop","FloatingWrite"],"mappings":"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","sourcesContent":["import Video from \"components/trils/Video\";\nimport React, { useEffect, useRef, useState, Fragment } from \"react\";\nimport { history } from \"redux/configureStore\";\nimport { QuestionMark, Plus, Arrow } from \"media/svg/Svg\";\nimport styled, { keyframes } from \"styled-components\";\nimport TrilsDetail from \"../components/trils/TrilsDetail\";\nimport { TrilsActions } from \"redux/modules/trils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InfinityScroll from \"shared/TrillsInfinityScroll\";\nimport Tripper from \"media/image/triport_airplane.png\";\nimport Fade from \"react-reveal/Fade\";\nimport TrilsDetailTutorial from \"components/trils/TrilsDetailTutorial\";\nimport TrilsTutorial from \"components/trils/TrilsTutorial\";\n\nconst Trils = (props) => {\n  const is_login = useSelector((state) => state.user.is_login);\n  const dispatch = useDispatch();\n  const post_list = useSelector((state) => state.trils.data);\n  const modal = useSelector((state) => state.trils.modal);\n  const is_last = useSelector((state) => state.trils.is_last);\n  const [filter, _setFilter] = useState(true);\n  const filterRef = useRef(filter);\n  const [tutorial, setTutorial] = useState(false);\n  const [TDetailModal, setTDM] = useState(false);\n  const [keyword, setKeyword] = useState(\"\");\n\n  /* 필터 기능 - 좋아요순 최신순 */\n  const tabToggle = (e) => {\n    const tab = document.getElementById(\"FilterTab\");\n    const like = document.getElementById(\"LikeText\");\n    const newest = document.getElementById(\"NewestText\");\n\n    const setFilter = (data) => {\n      filterRef.current = data;\n      _setFilter(data);\n    };\n\n    if (tab.style.left !== \"50%\") {\n      tab.style.left = \"50%\";\n      like.style.color = \"#89ACFF\";\n      newest.style.color = \"#fff\";\n    } else {\n      tab.style.left = \"0%\";\n      like.style.color = \"#fff\";\n      newest.style.color = \"#89ACFF\";\n    }\n\n    if (filter) {\n      // 최신순\n      dispatch(TrilsActions.filterPost(e.target.value, \"createdAt\"));\n    } else {\n      // 좋아요순\n      dispatch(TrilsActions.filterPost(e.target.value, \"likeNum\"));\n    }\n    setFilter(!filter);\n  };\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n    console.log(\n      \"%c✈트리포트에 오신걸 환영합니다!\",\n      'font-family: \"paybooc-Bold\";color:#89acff; font-size:30px; font-weight: bold;'\n    );\n    dispatch(TrilsActions.setPost());\n  }, [dispatch]);\n\n  const searching = (e) => {\n    if (window.event.keyCode === 13) {\n      // 좋아요순\n      history.push(`/search?q=${keyword}&filter=likeNum`);\n    }\n  };\n  const searchClick = (e) => {\n    history.push(`/search?q=${keyword}&filter=likeNum`);\n  };\n\n  const scroll = () => {\n    const filter_scroll = filterRef.current;\n    if (filter_scroll) {\n      // 좋아요순\n      dispatch(TrilsActions.getPost(\"\", \"likeNum\"));\n    } else {\n      // 최신순\n      dispatch(TrilsActions.getPost(\"\", \"createdAt\"));\n    }\n  };\n\n  const write = () => {\n    if (!is_login) {\n      Swal.fire({\n        title: \"로그인을 해주세요.\",\n        text: \"로그인 후 글작성이 가능합니다.\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"로그인하기\",\n        cancelButtonText: \"닫기\",\n      }).then((result) => {\n        if (result.isConfirmed) {\n          history.push(\"/login\");\n        }\n      });\n    } else {\n      history.push(\"/trils/write\");\n    }\n  };\n\n  const top = () => {\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\n  };\n\n  return (\n    <Container>\n      {modal ? <TrilsDetail history={history} /> : null}\n      {TDetailModal ? (\n        <TrilsDetailTutorial\n          history={history}\n          close={() => {\n            setTDM(false);\n          }}\n        />\n      ) : null}\n      <FloatingBox>\n        <FloatingTutorial\n          tutorial={tutorial}\n          onClick={() => {\n            if (tutorial) {\n              setTutorial(false);\n            } else {\n              setTutorial(true);\n            }\n          }}\n        >\n          {tutorial ? (\n            <CloseTutorial>사용자 가이드 닫기</CloseTutorial>\n          ) : (\n            <QuestionMark />\n          )}\n        </FloatingTutorial>\n        <FloatingGoTop onClick={top}>\n          <Arrow />\n        </FloatingGoTop>\n        <FloatingWrite onClick={write}>\n          <Plus />\n        </FloatingWrite>\n      </FloatingBox>\n      <SearchContainer>\n        <SearchWrapper>\n          <Search\n            type=\"text\"\n            placeholder=\"검색어를 입력하세요.\"\n            onKeyPress={searching}\n            onChange={(e) => {\n              setKeyword(e.target.value);\n            }}\n          />\n          <SearchIcon onClick={searchClick} />\n        </SearchWrapper>\n      </SearchContainer>\n      <FilterContainer>\n        <Filter>\n          <Background id=\"FilterTab\" />\n          <LikeFilter onClick={tabToggle}>\n            <span id=\"LikeText\">좋아요순</span>\n          </LikeFilter>\n          <NewestFilter onClick={tabToggle}>\n            <span id=\"NewestText\">최신순</span>\n          </NewestFilter>\n        </Filter>\n        <MoveTripper>\n          <img src={Tripper} alt=\"놀자\" />\n        </MoveTripper>\n      </FilterContainer>\n      <PostLine tutorial={tutorial}>\n        {tutorial ? (\n          <>\n            <Fade bottom>\n              <TrilsTutorial\n                history={history}\n                open={() => {\n                  setTDM(true);\n                }}\n              />\n            </Fade>\n          </>\n        ) : (\n          <>\n            {!post_list || post_list.length === 0 ? (\n              <></>\n            ) : (\n              <InfinityScroll callNext={scroll} is_next={is_last}>\n                {post_list.map((p, idx) => {\n                  return (\n                    <Fragment key={idx}>\n                      <Fade bottom>\n                        <Video {...p} history={history} />\n                      </Fade>\n                    </Fragment>\n                  );\n                })}\n              </InfinityScroll>\n            )}\n          </>\n        )}\n      </PostLine>\n    </Container>\n  );\n};\n\nconst Opacity = keyframes`\n  0% {\n    opacity: 0;\n  }\n  30% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\n\nconst CloseTutorial = styled.div`\n  animation: ${Opacity} 1s;\n  font-family: \"paybooc-Bold\";\n  color: white;\n  right: 50%;\n  user-select: none;\n`;\n\nconst Move = keyframes`\n  0% {\n    transform : translateX(-1500%);\n  }\n  100% {\n    transform : translateX(0%);\n  }\n`;\n\nconst MoveTripper = styled.div`\n  animation: ${Move} 5s;\n  margin: 0 1rem 0 0;\n  & img {\n    width: 4rem;\n  }\n  @media only screen and (max-width: 870px) {\n    display: none;\n  }\n`;\n\nconst SearchWrapper = styled.div`\n  width: 40.625rem;\n  border: 1px solid rgb(43, 97, 225, 0.6);\n  border-radius: 5px;\n  outline: none;\n  padding: 0.75rem 1.25rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  box-shadow: 0px 3px 6px #00000029;\n  @media only screen and (max-width: 720px) {\n    width: 80%;\n  }\n\n  & svg {\n    fill: rgb(43, 97, 225);\n    cursor: pointer;\n  }\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 80rem;\n  @media only screen and (max-width: 1280px) {\n    width: 850px;\n  }\n  @media only screen and (max-width: 870px) {\n    width: 410px;\n  }\n  @media only screen and (max-width: 420px) {\n    width: calc(100% - 20px);\n  }\n`;\n\nconst NewestFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"paybooc-Bold\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: #89acff;\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n\nconst LikeFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"paybooc-Bold\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: #fff;\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  left: 0;\n  background: #2b61e1 0% 0% no-repeat padding-box;\n  border-radius: 5px;\n  transition: left 0.5s;\n`;\n\nconst Filter = styled.div`\n  position: relative;\n  width: 14.125rem;\n  height: 2.5rem;\n  background: #f4f4f4 0% 0% no-repeat padding-box;\n  box-shadow: 0px 3px 6px #00000029;\n  border-radius: 5px;\n  display: flex;\n  @media only screen and (min-width: 425px) and (max-width: 1280px) {\n    margin-right: 1rem;\n  }\n`;\n\nconst FilterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  margin-bottom: 4rem;\n  @media only screen and (max-width: 870px) {\n    margin-bottom: 1rem;\n    justify-content: center;\n  }\n`;\n\n// const Search = styled.input`\n//   width: 40.625rem;\n//   border: 1px solid rgb(43, 97, 225, 0.6);\n//   border-radius: 5px;\n//   outline: none;\n//   padding: 0.75rem 1.25rem;\n// `;\n\nconst Search = styled.input`\n  border: none;\n  outline: none;\n  width: 38rem;\n  @media only screen and (max-width: 870px) {\n    width: 100%;\n  }\n`;\n\nconst SearchContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 50px;\n  @media only screen and (max-width: 540px) {\n    margin-bottom: 1rem;\n  }\n`;\n\nconst CenterDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin: 0 auto;\n  width: 80rem;\n`;\n\nconst PostLine = styled.div`\n  display: grid;\n  width: 100%;\n  grid-template-columns: ${(props) => (props.tutorial ? `1fr` : `1fr 1fr 1fr`)};\n  /* grid-template-rows: repeat(auto-fit, 45rem); */\n  /* row-gap: 2rem; */\n  justify-items: center;\n  max-width: 80rem;\n  margin: 0px auto;\n  margin-bottom: 4.3rem;\n  flex-wrap: wrap;\n  @media only screen and (max-width: 1280px) {\n    grid-template-columns: ${(props) => (props.tutorial ? `1fr` : `1fr 1fr`)};\n  }\n  @media only screen and (max-width: 870px) {\n    grid-template-columns: 1fr;\n  }\n`;\n\nconst FloatingBox = styled.div`\n  position: fixed;\n  bottom: 56px;\n  right: 3%;\n  z-index: 50;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  @media only screen and (max-width: 425px) {\n    right: 6%;\n  }\n`;\n\nconst FloatingTutorial = styled.div`\n  width: ${(props) => (props.tutorial ? \"10rem\" : \"3.125rem\")};\n  height: 3.125rem;\n  cursor: pointer;\n  z-index: 50;\n  background: linear-gradient(to bottom right, #52a0fd, #00e2fa);\n  /* background-color: #2b61e1; */\n  border-radius: 25px;\n  transform-origin: center center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  transition: 0.5s ease-in-out;\n  & svg {\n    width: 60%;\n    height: 60%;\n    fill: #ffffff;\n    animation: ${Opacity} 1s;\n  }\n  margin-bottom: 0.5rem;\n`;\n\nconst FloatingGoTop = styled.div`\n  width: 3.125rem;\n  height: 3.125rem;\n  cursor: pointer;\n  z-index: 50;\n  background-color: #2b61e1;\n  border-radius: 25px;\n  transform: rotate(-90deg);\n  transform-origin: center center;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  & svg {\n    width: 60%;\n    height: 60%;\n    fill: #ffffff;\n  }\n  margin-bottom: 0.5rem;\n`;\n\nconst FloatingWrite = styled.div`\n  width: 3.125rem;\n  height: 3.125rem;\n  cursor: pointer;\n  z-index: 50;\n  & svg {\n    width: 100%;\n    height: 100%;\n    fill: #2b61e1;\n  }\n`;\n\nexport default Trils;\n"]},"metadata":{},"sourceType":"module"}