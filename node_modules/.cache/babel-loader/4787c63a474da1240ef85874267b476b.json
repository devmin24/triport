{"ast":null,"code":"var _jsxFileName = \"/Users/parkminkyung/Desktop/git/triport/src/pages/BoardDetail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BoardView, BoardComment, BoardDetailMap } from \"components/components\";\nimport { LikeFill, LikeEmpty } from \"media/svg/Svg\";\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { history } from \"redux/configureStore\";\nimport Swal from \"sweetalert2\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst BoardDetail = props => {\n  _s();\n\n  const id = props.match.params.id; // 상세 게시글 ID\n\n  const dispatch = useDispatch();\n  const is_login = useSelector(state => state.user.is_login); // 로그인 여부\n\n  const detail = useSelector(state => state.trilog.detail); // 상세 게시글 정보\n\n  const is_loading = useSelector(state => state.trilog.loading.detail_loading); // 상세 게시글 로딩 여부\n\n  const comment = useSelector(state => state.trilog.parent_comment.list); // 부모 댓글\n\n  const is_last = useSelector(state => state.trilog.parent_comment.is_last); // 부모 댓글 페이징 여부 - 다음 댓글 있나 없나\n\n  const commentRef = React.useRef('');\n  React.useEffect(() => {\n    dispatch(TrilogActions.getTrilogDetail(id));\n  }, []);\n\n  const postParentComment = () => {\n    if (!is_login) {\n      Swal.fire({\n        title: \"로그인\",\n        text: \"로그인을 먼저 해주세요.\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"로그인하기\",\n        cancelButtonText: \"닫기\"\n      }).then(result => {\n        if (result.isConfirmed) {\n          history.push(\"/login\");\n        }\n      });\n      return;\n    }\n\n    dispatch(TrilogActions.addParentComment(id, commentRef.current.value));\n    document.getElementById('commentInput').value = ''; // 초기화\n  };\n\n  const hitLike = () => {\n    if (!is_login) {\n      Swal.fire({\n        title: \"로그인\",\n        text: \"로그인을 먼저 해주세요.\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"로그인하기\",\n        cancelButtonText: \"닫기\"\n      }).then(result => {\n        if (result.isConfirmed) {\n          history.push(\"/login\");\n        }\n      });\n      return;\n    }\n\n    dispatch(TrilogActions.setLikeTrilogDetail(id));\n  };\n\n  const getMorecomment = () => {\n    dispatch(TrilogActions.getParentCommentScroll(id));\n  };\n\n  const editTrilog = () => {\n    history.replace(`/trilog/write/${id}`);\n  };\n\n  const deleteTrilog = () => {\n    Swal.fire({\n      title: '해당 게시물을 삭제하시겠습니까?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: `삭제`,\n      denyButtonText: `취소`\n    }).then(result => {\n      if (result.isConfirmed) {\n        dispatch(TrilogActions.removeTrilog(id));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(DetailContainer, {\n    children: is_loading ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(UserContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: detail.author.profileImgUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: detail.author.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(LastUpdate, {\n            children: [\"\\uCD5C\\uCD08 \\uB4F1\\uB85D\\uC77C : \", detail.information.createdAt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this), detail.member.isMembers ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(EditButton, {\n              type: \"button\",\n              value: \"\\uC218\\uC815\",\n              onClick: editTrilog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n              type: \"button\",\n              value: \"\\uC0AD\\uC81C\",\n              onClick: deleteTrilog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ToastViewContainer, {\n        children: detail.information.description === \"\" ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BoardView, {\n          content: detail.information.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(MapConatiner, {\n        children: detail.information.address === '지도 마커를 클릭하시면 주소가 여기 표시됩니다.' || detail.information.address === 'seoul' ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BoardDetailMap, {\n          address: detail.information.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 131\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(LikeCommentContainer, {\n        children: [/*#__PURE__*/_jsxDEV(Infomation, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            onClick: hitLike,\n            children: detail.member.isLike ? /*#__PURE__*/_jsxDEV(LikeFill, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 43\n            }, this) : /*#__PURE__*/_jsxDEV(LikeEmpty, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 58\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uC88B\\uC544\\uC694+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(LikeCount, {\n              children: detail.information.likeNum\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uB313\\uAE00+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(CommentCount, {\n              children: detail.information.commentNum\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(CommentInput, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"commentInput\",\n            type: \"text\",\n            placeholder: \"\\uB313\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n            ref: commentRef,\n            onKeyPress: e => {\n              if (window.event.keyCode === 13) {\n                postParentComment();\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }, this), comment.map((val, index) => {\n          return /*#__PURE__*/_jsxDEV(BoardComment, {\n            id: id,\n            comment: val\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 24\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }, this), is_last ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(ShowMoreComment, {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: getMorecomment,\n          children: \"\\uB313\\uAE00 \\uB354 \\uBCF4\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 7\n  }, this);\n};\n\n_s(BoardDetail, \"Az6Tbhn04lGIgP38OUGgBdj0i2g=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BoardDetail;\nconst Separator = styled.hr`\n  color: #89acff;\n  opacity: 0.5;\n  margin: 0.75rem 0;\n`;\n_c2 = Separator;\nconst DetailContainer = styled.div`\n  width: 1280px;\n  margin: 0 auto;\n  position: relative;\n\n  @media (max-width: 1270px) {\n    width: 850px;\n  }\n\n  @media (max-width: 980px) {\n    width: 700px;\n  }\n\n  @media (max-width: 768px) {\n    width: 500px;\n  }\n\n  @media (max-width: 600px) {\n    width: 300px;\n  }\n`;\n_c3 = DetailContainer;\nconst UserContainer = styled.div`\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: space-between;\n    font-family: AppleSDGothicNeoB;\n\n    & img {\n        width: 2.375rem;\n        border-radius: 50%;\n        margin-right: .5rem;\n    }\n\n    & div {\n        display: flex;\n        align-items: center;\n    }\n`;\n_c4 = UserContainer;\nconst LastUpdate = styled.span`\n  @media (max-width: 600px) {\n    display: none;\n  }\n`;\n_c5 = LastUpdate;\nconst LikeCount = styled.span`\n  margin-right: 0.5rem;\n`;\n_c6 = LikeCount;\nconst CommentCount = styled.span``;\n_c7 = CommentCount;\nconst ToastViewContainer = styled.div``;\n_c8 = ToastViewContainer;\nconst MapConatiner = styled.div``;\n_c9 = MapConatiner;\nconst LikeCommentContainer = styled.div`\n  width: 100%;\n`;\n_c10 = LikeCommentContainer;\nconst Infomation = styled.div`\n  display: flex;\n  align-items: center;\n  font-family: \"AppleSDGothicNeoR\";\n\n  & svg {\n    cursor: pointer;\n    width: 3.2rem;\n  }\n`;\n_c11 = Infomation;\nconst CommentInput = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0.5rem 0;\n  width: 100%;\n\n  & input {\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    border: 1px solid rgb(43,97,225,0.6);\n    border-radius: 5px;\n    padding: 0 1rem;\n  }\n`;\n_c12 = CommentInput;\nconst ShowMoreComment = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin: 1.5rem 0 1.5rem 0;\n  & span {\n      cursor: pointer;\n  }\n`;\n_c13 = ShowMoreComment;\nconst EditButton = styled.input`\n    cursor: pointer;\n    background-color: #2b61e1;\n    color: #fff;\n    border: 1px solid #2b61e1;\n    border-radius: 5px;\n    padding: .25rem .75rem;\n    margin: 0 .5rem;\n`;\n_c14 = EditButton;\nconst DeleteButton = styled.input`\n    cursor: pointer;\n    background-color: #f22d3f;\n    border: 1px solid #f22d3f;\n    color: #fff;\n    border-radius: 5px;\n    padding: .25rem .75rem;\n`;\n_c15 = DeleteButton;\nexport default BoardDetail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n\n$RefreshReg$(_c, \"BoardDetail\");\n$RefreshReg$(_c2, \"Separator\");\n$RefreshReg$(_c3, \"DetailContainer\");\n$RefreshReg$(_c4, \"UserContainer\");\n$RefreshReg$(_c5, \"LastUpdate\");\n$RefreshReg$(_c6, \"LikeCount\");\n$RefreshReg$(_c7, \"CommentCount\");\n$RefreshReg$(_c8, \"ToastViewContainer\");\n$RefreshReg$(_c9, \"MapConatiner\");\n$RefreshReg$(_c10, \"LikeCommentContainer\");\n$RefreshReg$(_c11, \"Infomation\");\n$RefreshReg$(_c12, \"CommentInput\");\n$RefreshReg$(_c13, \"ShowMoreComment\");\n$RefreshReg$(_c14, \"EditButton\");\n$RefreshReg$(_c15, \"DeleteButton\");","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/pages/BoardDetail.js"],"names":["React","styled","BoardView","BoardComment","BoardDetailMap","LikeFill","LikeEmpty","actionCreators","TrilogActions","useDispatch","useSelector","history","Swal","BoardDetail","props","id","match","params","dispatch","is_login","state","user","detail","trilog","is_loading","loading","detail_loading","comment","parent_comment","list","is_last","commentRef","useRef","useEffect","getTrilogDetail","postParentComment","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","push","addParentComment","current","value","document","getElementById","hitLike","setLikeTrilogDetail","getMorecomment","getParentCommentScroll","editTrilog","replace","deleteTrilog","showDenyButton","denyButtonText","removeTrilog","author","profileImgUrl","nickname","information","createdAt","member","isMembers","description","address","isLike","likeNum","commentNum","e","window","event","keyCode","map","val","index","Separator","hr","DetailContainer","div","UserContainer","LastUpdate","span","LikeCount","CommentCount","ToastViewContainer","MapConatiner","LikeCommentContainer","Infomation","CommentInput","ShowMoreComment","EditButton","input","DeleteButton"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { BoardView, BoardComment, BoardDetailMap } from \"components/components\";\r\nimport { LikeFill, LikeEmpty } from \"media/svg/Svg\";\r\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { history } from \"redux/configureStore\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst BoardDetail = (props) => {\r\n    const id = props.match.params.id; // 상세 게시글 ID\r\n    const dispatch = useDispatch();\r\n\r\n    const is_login = useSelector((state) => state.user.is_login); // 로그인 여부\r\n    const detail = useSelector((state) => state.trilog.detail); // 상세 게시글 정보\r\n    const is_loading = useSelector((state) => state.trilog.loading.detail_loading); // 상세 게시글 로딩 여부\r\n    const comment = useSelector((state) => state.trilog.parent_comment.list); // 부모 댓글\r\n    const is_last = useSelector((state) => state.trilog.parent_comment.is_last); // 부모 댓글 페이징 여부 - 다음 댓글 있나 없나\r\n\r\n    const commentRef = React.useRef('');\r\n\r\n    React.useEffect(() => {\r\n        dispatch(TrilogActions.getTrilogDetail(id));\r\n    }, []);\r\n\r\n    const postParentComment = () => {\r\n        if(!is_login) {\r\n          Swal.fire({\r\n            title: \"로그인\",\r\n            text: \"로그인을 먼저 해주세요.\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"로그인하기\",\r\n            cancelButtonText: \"닫기\",\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                history.push(\"/login\");\r\n            }\r\n          });\r\n          return;\r\n        }\r\n        dispatch(TrilogActions.addParentComment(id, commentRef.current.value));\r\n        document.getElementById('commentInput').value = ''; // 초기화\r\n    };\r\n\r\n    const hitLike = () => {\r\n        if(!is_login) {\r\n          Swal.fire({\r\n            title: \"로그인\",\r\n            text: \"로그인을 먼저 해주세요.\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"로그인하기\",\r\n            cancelButtonText: \"닫기\",\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                history.push(\"/login\");\r\n            }\r\n          });\r\n          return;\r\n        }\r\n        dispatch(TrilogActions.setLikeTrilogDetail(id));\r\n    };\r\n\r\n    const getMorecomment = () => {\r\n        dispatch(TrilogActions.getParentCommentScroll(id));\r\n    };\r\n\r\n    const editTrilog = () => {\r\n        history.replace(`/trilog/write/${id}`);\r\n    };\r\n\r\n    const deleteTrilog = () => {\r\n      Swal.fire({\r\n        title: '해당 게시물을 삭제하시겠습니까?',\r\n        showDenyButton: true,\r\n        showCancelButton: false,\r\n        confirmButtonText: `삭제`,\r\n        denyButtonText: `취소`,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          dispatch(TrilogActions.removeTrilog(id));\r\n        }\r\n      });\r\n    };\r\n\r\n    return (\r\n      <DetailContainer>\r\n        {is_loading ? (\r\n          <></>\r\n        ) : (\r\n          <>\r\n            <UserContainer>\r\n              <div>\r\n                <img src={detail.author.profileImgUrl} />\r\n                <span>{detail.author.nickname}</span>\r\n              </div>\r\n              <div>\r\n                <LastUpdate>최초 등록일 : {detail.information.createdAt}</LastUpdate>\r\n                {detail.member.isMembers ? (\r\n                  <>\r\n                    <EditButton type=\"button\" value=\"수정\" onClick={editTrilog} />\r\n                    <DeleteButton type=\"button\" value=\"삭제\" onClick={deleteTrilog} />\r\n                  </>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </div>\r\n            </UserContainer>\r\n            <Separator />\r\n            <ToastViewContainer>\r\n              {detail.information.description === \"\" ? (\r\n                <></>\r\n              ) : (\r\n                <BoardView content={detail.information.description} />\r\n              )}\r\n            </ToastViewContainer>\r\n            <MapConatiner>\r\n              {detail.information.address === '지도 마커를 클릭하시면 주소가 여기 표시됩니다.' || detail.information.address === 'seoul' ? (<></>) : (<BoardDetailMap address={detail.information.address} />) }\r\n            </MapConatiner>\r\n            <Separator />\r\n            <LikeCommentContainer>\r\n              <Infomation>\r\n                <span onClick={hitLike}>\r\n                  {detail.member.isLike ? <LikeFill /> : <LikeEmpty />}\r\n                </span>\r\n                <div>\r\n                  <span>좋아요+</span>\r\n                  <LikeCount>{detail.information.likeNum}</LikeCount>\r\n                </div>\r\n                <div>\r\n                  <span>댓글+</span>\r\n                  <CommentCount>{detail.information.commentNum}</CommentCount>\r\n                </div>\r\n              </Infomation>\r\n              <CommentInput>\r\n                <input\r\n                  id=\"commentInput\"\r\n                  type=\"text\"\r\n                  placeholder=\"댓글을 입력하세요.\"\r\n                  ref={commentRef}\r\n                  onKeyPress={(e) => {\r\n                    if (window.event.keyCode === 13) {\r\n                      postParentComment();\r\n                    }\r\n                  }}\r\n                />\r\n              </CommentInput>\r\n              <Separator />\r\n              {comment.map((val, index) => {\r\n                return <BoardComment id={id} comment={val} key={index} />;\r\n              })}\r\n            </LikeCommentContainer>\r\n            {is_last ? (\r\n              <></>\r\n            ) : (\r\n              <ShowMoreComment>\r\n                <span onClick={getMorecomment}>댓글 더 보기</span>\r\n              </ShowMoreComment>\r\n            )}\r\n          </>\r\n        )}\r\n      </DetailContainer>\r\n    );\r\n};\r\n\r\nconst Separator = styled.hr`\r\n  color: #89acff;\r\n  opacity: 0.5;\r\n  margin: 0.75rem 0;\r\n`;\r\n\r\nconst DetailContainer = styled.div`\r\n  width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n\r\n  @media (max-width: 1270px) {\r\n    width: 850px;\r\n  }\r\n\r\n  @media (max-width: 980px) {\r\n    width: 700px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 500px;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 300px;\r\n  }\r\n`;\r\n\r\nconst UserContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    font-family: AppleSDGothicNeoB;\r\n\r\n    & img {\r\n        width: 2.375rem;\r\n        border-radius: 50%;\r\n        margin-right: .5rem;\r\n    }\r\n\r\n    & div {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst LastUpdate = styled.span`\r\n  @media (max-width: 600px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst LikeCount = styled.span`\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst CommentCount = styled.span``;\r\n\r\nconst ToastViewContainer = styled.div``;\r\n\r\nconst MapConatiner = styled.div``;\r\n\r\nconst LikeCommentContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst Infomation = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-family: \"AppleSDGothicNeoR\";\r\n\r\n  & svg {\r\n    cursor: pointer;\r\n    width: 3.2rem;\r\n  }\r\n`;\r\n\r\nconst CommentInput = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0.5rem 0;\r\n  width: 100%;\r\n\r\n  & input {\r\n    outline: none;\r\n    border: 0;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 40px;\r\n    border: 1px solid rgb(43,97,225,0.6);\r\n    border-radius: 5px;\r\n    padding: 0 1rem;\r\n  }\r\n`;\r\n\r\nconst ShowMoreComment = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 1.5rem 0 1.5rem 0;\r\n  & span {\r\n      cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst EditButton = styled.input`\r\n    cursor: pointer;\r\n    background-color: #2b61e1;\r\n    color: #fff;\r\n    border: 1px solid #2b61e1;\r\n    border-radius: 5px;\r\n    padding: .25rem .75rem;\r\n    margin: 0 .5rem;\r\n`;\r\n\r\nconst DeleteButton = styled.input`\r\n    cursor: pointer;\r\n    background-color: #f22d3f;\r\n    border: 1px solid #f22d3f;\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    padding: .25rem .75rem;\r\n`;\r\n\r\nexport default BoardDetail;\r\n"]},"metadata":{},"sourceType":"module"}