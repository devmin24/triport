{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { config } from \"./config\";\nimport { logOut } from \"./user\";\nconst trilseSlice = createSlice({\n  name: \"trils\",\n  initialState: {\n    data: [],\n    modal: false,\n    detail: {\n      information: {\n        id: 0,\n        likeNum: 0,\n        modifiedAt: \"2021-05-20 00:00\",\n        videoType: \"m3u8\",\n        videoUrl: \"\",\n        posPlay: true,\n        hashtag: [\"트리포트\"]\n      },\n      author: {\n        nickname: \"트리포트\",\n        profileImgUrl: \"https://d1nogx3a73keco.cloudfront.net/video/about/tripper.jpg\"\n      },\n      member: {\n        isMembers: false,\n        isLike: false\n      }\n    },\n    page: 1,\n    is_last: false\n  },\n  reducers: {\n    GET_POST: (state, action) => {\n      state.data = action.payload.result;\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    SHIFT_POST: (state, action) => {\n      state.data.push(...action.payload.result);\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    GET_POST_DETAIL: (state, action) => {\n      state.modal = action.payload.modal;\n      state.detail = action.payload.result;\n    },\n    MODAL_STATUS: (state, action) => {\n      state.modal = action.payload;\n    },\n    LIKE_OK: (state, action) => {\n      const idx = state.data.findIndex(p => p.information.id === action.payload.information.id);\n      state.data[idx] = action.payload;\n      state.detail = action.payload;\n    },\n    DELETE_POST: (state, action) => {\n      const idx = state.data.findIndex(p => p.information.id === action.payload);\n\n      if (idx !== -1) {\n        state.data.splice(idx, 1);\n      }\n    },\n    SEARCH_POST: (state, action) => {\n      state.data = action.payload.result;\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    MEMBER_POST: (state, action) => {\n      state.data = action.payload.result;\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    EDIT_POST: (state, action) => {\n      const idx = state.data.findIndex(p => p.information.id === action.payload.id);\n      state.data[idx].information.hashtag = action.payload.hashtag;\n      state.detail.information.hashtag = action.payload.hashtag;\n    },\n    SET_TRILS_MYPOST: (state, action) => {\n      state.data = action.payload;\n    }\n  }\n}); // Trils 마이 페이지 게시물 조회 - 마이 페이지 좋아요 조회\n\nconst getMyTrilsLikePost = () => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/posts/member/like`;\n    fetch(api, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `${access_token}`\n      }\n    }).then(res => res.json()).then(data => {\n      dispatch(SET_TRILS_MYPOST(data.results));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}; // Trils 마이 페이지 게시물 조회 - 마이 페이지 내가 쓴 글 조회\n\n\nconst getMyTrilsPost = () => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/posts/member`;\n    fetch(api, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `${access_token}`\n      }\n    }).then(res => res.json()).then(data => {\n      dispatch(SET_TRILS_MYPOST(data.results));\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n}; // Trils 해시태그 검색\n\n\nconst searchPost = (keyword = \"\", LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=${page}&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`\n      }\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      const results = {\n        result: result.results,\n        page: page + 1,\n        is_last: result.last\n      };\n      dispatch(SEARCH_POST(results));\n    }).catch(err => console.log(err));\n  };\n}; // Trils 멤버 포스트 검색\n\n\nconst memberpost = (memberId, LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const api = `${config}/api/all/posts/member/${memberId}?page=${page}&filter=${LikeOrDate}`;\n    const data = {\n      method: \"GET\"\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      const results = {\n        result: result.results,\n        page: page + 1,\n        is_last: result.last\n      };\n      dispatch(MEMBER_POST(results));\n    }).catch(err => console.log(err));\n  };\n}; // 멤버 포스트 검색 무한스크롤\n\n\nconst memberpostOver = (memberId, LikeOrDate = \"likeNum\") => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const page = getState().trils.page;\n    const api = `${config}/api/all/posts/member/${memberId}?page=${page}&filter=${LikeOrDate}`;\n    const data = {\n      method: \"GET\"\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      const results = {\n        result: result.results,\n        page: page + 1,\n        is_last: result.last\n      };\n      dispatch(SHIFT_POST(results));\n    }).catch(err => console.log(err));\n  };\n}; // Trils 포스트 불러오기\n\n\nconst setPost = (keyword = \"\", LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=1&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`\n      }\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      const results = {\n        result: result.results,\n        page: page + 1,\n        is_last: result.last\n      };\n      dispatch(GET_POST(results));\n    }).catch(err => console.log(err));\n  };\n}; // 무한스크롤\n\n\nconst getPost = (keyword = \"\", LikeOrDate = \"likeNum\") => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const page = getState().trils.page;\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=${page}&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`\n      }\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      console.log(result.results);\n      const results = {\n        result: result.results,\n        page: page + 1,\n        is_last: result.last\n      };\n\n      if (page === 1) {\n        dispatch(GET_POST(results));\n      } else {\n        dispatch(SHIFT_POST(results));\n      }\n    }).catch(err => console.log(err));\n  };\n}; // Trils 필터별 불러오기\n\n\nconst filterPost = (keyword = \"\", LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=1&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`\n      }\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      const results = {\n        result: result.results,\n        page: page + 1,\n        is_last: result.last\n      };\n      dispatch(GET_POST(results));\n    }).catch(err => console.log(err));\n  };\n}; // Trils 상세페이지 정보 가져오기\n\n\nconst getPostDetail = (postId, modal = true) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    dispatch(MODAL_STATUS(false));\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts/detail/${postId}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`\n      }\n    };\n    fetch(api, data).then(result => {\n      return result.json();\n    }).then(result => {\n      const results = {\n        result: result.results,\n        modal: modal\n      };\n      dispatch(GET_POST_DETAIL(results));\n    }).catch(err => console.log(err));\n  };\n}; // Trils 좋아요 누르기\n\n\nconst send_like = (postId, like) => {\n  return function (dispatch, getState, {\n    history\n  }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/posts/like/${postId}`;\n    const data = {\n      method: \"POST\",\n      headers: {\n        Authorization: `${access_token}`\n      }\n    };\n    fetch(api, data).then(result => {\n      if (result.status === 401) {\n        localStorage.removeItem(\"access_token\");\n        localStorage.removeItem(\"refresh_token\");\n        localStorage.removeItem(\"userInfo\");\n        dispatch(logOut());\n        alert(\"로그인 시간이 만료되었습니다. 다시 로그인해주세요.\");\n        history.push(\"/login\");\n      }\n\n      return result.json();\n    }).then(result => {\n      if (result.ok) {\n        dispatch(LIKE_OK(result.results));\n      } else {\n        alert(result.msg);\n      }\n    }).catch(err => console.log(err));\n  };\n};\n\nexport const {\n  GET_POST,\n  SHIFT_POST,\n  GET_POST_DETAIL,\n  MODAL_STATUS,\n  LIKE_OK,\n  DELETE_POST,\n  SEARCH_POST,\n  EDIT_POST,\n  SET_TRILS_MYPOST,\n  MEMBER_POST\n} = trilseSlice.actions;\nexport const TrilsActions = {\n  getPost,\n  getPostDetail,\n  send_like,\n  searchPost,\n  setPost,\n  filterPost,\n  getMyTrilsPost,\n  getMyTrilsLikePost,\n  memberpost,\n  memberpostOver\n};\nexport default trilseSlice.reducer;","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/redux/modules/trils.js"],"names":["createSlice","config","logOut","trilseSlice","name","initialState","data","modal","detail","information","id","likeNum","modifiedAt","videoType","videoUrl","posPlay","hashtag","author","nickname","profileImgUrl","member","isMembers","isLike","page","is_last","reducers","GET_POST","state","action","payload","result","SHIFT_POST","push","GET_POST_DETAIL","MODAL_STATUS","LIKE_OK","idx","findIndex","p","DELETE_POST","splice","SEARCH_POST","MEMBER_POST","EDIT_POST","SET_TRILS_MYPOST","getMyTrilsLikePost","dispatch","getState","history","access_token","localStorage","getItem","api","fetch","method","headers","Accept","Authorization","then","res","json","results","catch","err","console","log","getMyTrilsPost","searchPost","keyword","LikeOrDate","last","memberpost","memberId","memberpostOver","trils","setPost","getPost","filterPost","getPostDetail","postId","send_like","like","status","removeItem","alert","ok","msg","actions","TrilsActions","reducer"],"mappings":"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","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { config } from \"./config\";\nimport { logOut } from \"./user\";\n\nconst trilseSlice = createSlice({\n  name: \"trils\",\n  initialState: {\n    data: [],\n    modal: false,\n    detail: {\n      information: {\n        id: 0,\n        likeNum: 0,\n        modifiedAt: \"2021-05-20 00:00\",\n        videoType: \"m3u8\",\n        videoUrl: \"\",\n        posPlay: true,\n        hashtag: [\"트리포트\"],\n      },\n      author: {\n        nickname: \"트리포트\",\n        profileImgUrl:\n          \"https://d1nogx3a73keco.cloudfront.net/video/about/tripper.jpg\",\n      },\n      member: { isMembers: false, isLike: false },\n    },\n    page: 1,\n    is_last: false,\n  },\n  reducers: {\n    GET_POST: (state, action) => {\n      state.data = action.payload.result;\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    SHIFT_POST: (state, action) => {\n      state.data.push(...action.payload.result);\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    GET_POST_DETAIL: (state, action) => {\n      state.modal = action.payload.modal;\n      state.detail = action.payload.result;\n    },\n    MODAL_STATUS: (state, action) => {\n      state.modal = action.payload;\n    },\n    LIKE_OK: (state, action) => {\n      const idx = state.data.findIndex(\n        (p) => p.information.id === action.payload.information.id\n      );\n      state.data[idx] = action.payload;\n      state.detail = action.payload;\n    },\n    DELETE_POST: (state, action) => {\n      const idx = state.data.findIndex(\n        (p) => p.information.id === action.payload\n      );\n      if (idx !== -1) {\n        state.data.splice(idx, 1);\n      }\n    },\n    SEARCH_POST: (state, action) => {\n      state.data = action.payload.result;\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    MEMBER_POST: (state, action) => {\n      state.data = action.payload.result;\n      state.page = action.payload.page;\n      state.is_last = action.payload.is_last;\n    },\n    EDIT_POST: (state, action) => {\n      const idx = state.data.findIndex(\n        (p) => p.information.id === action.payload.id\n      );\n      state.data[idx].information.hashtag = action.payload.hashtag;\n      state.detail.information.hashtag = action.payload.hashtag;\n    },\n    SET_TRILS_MYPOST: (state, action) => {\n      state.data = action.payload;\n    },\n  },\n});\n\n// Trils 마이 페이지 게시물 조회 - 마이 페이지 좋아요 조회\nconst getMyTrilsLikePost = () => {\n  return function (dispatch, getState, { history }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/posts/member/like`;\n\n    fetch(api, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `${access_token}`,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        dispatch(SET_TRILS_MYPOST(data.results));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\n\n// Trils 마이 페이지 게시물 조회 - 마이 페이지 내가 쓴 글 조회\nconst getMyTrilsPost = () => {\n  return function (dispatch, getState, { history }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/posts/member`;\n\n    fetch(api, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `${access_token}`,\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        dispatch(SET_TRILS_MYPOST(data.results));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\n\n// Trils 해시태그 검색\nconst searchPost = (keyword = \"\", LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, { history }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=${page}&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`,\n      },\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        const results = {\n          result: result.results,\n          page: page + 1,\n          is_last: result.last,\n        };\n        dispatch(SEARCH_POST(results));\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// Trils 멤버 포스트 검색\nconst memberpost = (memberId, LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, { history }) {\n    const api = `${config}/api/all/posts/member/${memberId}?page=${page}&filter=${LikeOrDate}`;\n    const data = {\n      method: \"GET\",\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        const results = {\n          result: result.results,\n          page: page + 1,\n          is_last: result.last,\n        };\n        dispatch(MEMBER_POST(results));\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// 멤버 포스트 검색 무한스크롤\nconst memberpostOver = (memberId, LikeOrDate = \"likeNum\") => {\n  return function (dispatch, getState, { history }) {\n    const page = getState().trils.page;\n    const api = `${config}/api/all/posts/member/${memberId}?page=${page}&filter=${LikeOrDate}`;\n    const data = {\n      method: \"GET\",\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        const results = {\n          result: result.results,\n          page: page + 1,\n          is_last: result.last,\n        };\n        dispatch(SHIFT_POST(results));\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// Trils 포스트 불러오기\nconst setPost = (keyword = \"\", LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, { history }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=1&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`,\n      },\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        const results = {\n          result: result.results,\n          page: page + 1,\n          is_last: result.last,\n        };\n        dispatch(GET_POST(results));\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// 무한스크롤\nconst getPost = (keyword = \"\", LikeOrDate = \"likeNum\") => {\n  return function (dispatch, getState, { history }) {\n    const page = getState().trils.page;\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=${page}&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`,\n      },\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        console.log(result.results)\n        const results = {\n          result: result.results,\n          page: page + 1,\n          is_last: result.last,\n        };\n        if (page === 1) {\n          dispatch(GET_POST(results));\n        } else {\n          dispatch(SHIFT_POST(results));\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// Trils 필터별 불러오기\nconst filterPost = (keyword = \"\", LikeOrDate = \"likeNum\", page = 1) => {\n  return function (dispatch, getState, { history }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts?page=1&filter=${LikeOrDate}&keyword=${keyword}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`,\n      },\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        const results = {\n          result: result.results,\n          page: page + 1,\n          is_last: result.last,\n        };\n        dispatch(GET_POST(results));\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// Trils 상세페이지 정보 가져오기\nconst getPostDetail = (postId, modal = true) => {\n  return function (dispatch, getState, { history }) {\n    dispatch(MODAL_STATUS(false));\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/all/posts/detail/${postId}`;\n    const data = {\n      method: \"GET\",\n      headers: {\n        Authorization: `${access_token}`,\n      },\n    };\n    fetch(api, data)\n      .then((result) => {\n        return result.json();\n      })\n      .then((result) => {\n        const results = {\n          result: result.results,\n          modal: modal,\n        };\n        dispatch(GET_POST_DETAIL(results));\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\n// Trils 좋아요 누르기\nconst send_like = (postId, like) => {\n  return function (dispatch, getState, { history }) {\n    const access_token = localStorage.getItem(\"access_token\");\n    const api = `${config}/api/posts/like/${postId}`;\n    const data = {\n      method: \"POST\",\n      headers: {\n        Authorization: `${access_token}`,\n      },\n    };\n    fetch(api, data)\n      .then((result) => {\n        if (result.status === 401) {\n          localStorage.removeItem(\"access_token\");\n          localStorage.removeItem(\"refresh_token\");\n          localStorage.removeItem(\"userInfo\");\n          dispatch(logOut());\n          alert(\"로그인 시간이 만료되었습니다. 다시 로그인해주세요.\");\n          history.push(\"/login\");\n        }\n        return result.json();\n      })\n      .then((result) => {\n        if (result.ok) {\n          dispatch(LIKE_OK(result.results));\n        } else {\n          alert(result.msg);\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n};\n\nexport const {\n  GET_POST,\n  SHIFT_POST,\n  GET_POST_DETAIL,\n  MODAL_STATUS,\n  LIKE_OK,\n  DELETE_POST,\n  SEARCH_POST,\n  EDIT_POST,\n  SET_TRILS_MYPOST,\n  MEMBER_POST,\n} = trilseSlice.actions;\n\nexport const TrilsActions = {\n  getPost,\n  getPostDetail,\n  send_like,\n  searchPost,\n  setPost,\n  filterPost,\n  getMyTrilsPost,\n  getMyTrilsLikePost,\n  memberpost,\n  memberpostOver,\n};\n\nexport default trilseSlice.reducer;\n"]},"metadata":{},"sourceType":"module"}