{"ast":null,"code":"var _jsxFileName = \"/Users/parkminkyung/Desktop/git/triport/src/components/trilog/BoardComment.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { CommentLike } from \"media/svg/Svg\";\nimport { history } from \"redux/configureStore\";\nimport { BoardChildComment } from \"components/components\";\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { config } from \"redux/modules/config\";\nimport Swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst BoardComment = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const is_login = useSelector(state => state.user.is_login); // 로그인 체크 여부\n\n  const {\n    comment\n  } = props; // BoardDetail 컴포넌트로부터 받은 data\n\n  const commentRef = React.useRef(); // 부모 댓글 추가 시 가져오는 내용\n\n  const [showReply, setShowReply] = React.useState(false); // 대댓글(자식 댓글) 보여주기 토글\n\n  const [showReplyInput, setShowReplyInput] = React.useState(false); // 답글 작성 토글\n\n  const [data, setData] = React.useState([]); // 대댓글(자식 댓글) 정보\n\n  const [edit, setEdit] = React.useState(false); // 부모 댓글 수정\n\n  const [parentCommentEdit, setParentCommentEdit] = React.useState(''); // Edit일때만 사용\n\n  const [page, setPage] = React.useState(1); // 부모 댓글 페이징\n\n  const [last, setLast] = React.useState(true); // 부모 댓글 페이징 - 다음 댓글 있나 없나 여부\n\n  const input_id = `commentChildInput${comment.commentParent.id}`;\n  React.useEffect(() => {\n    if (comment.commentParent !== undefined) {\n      setParentCommentEdit(comment.commentParent.contents);\n    }\n  }, []); // 대댓글 조회 - 대댓글은 Redux에서 관리안함\n\n  const showReplyComment = () => {\n    setShowReply(!showReply);\n\n    if (!showReply) {\n      const access_token = localStorage.getItem(\"access_token\");\n      fetch(`${config}/api/all/boards/comments/children/${comment.commentParent.id}?page=${page}`, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json',\n          'Authorization': `${access_token}`\n        }\n      }).then(res => res.json()).then(data => {\n        setData(data.results);\n\n        if (!data.last) {\n          setPage(prevState => prevState + 1);\n          setLast(data.last);\n        }\n      }).catch(err => console.log(err, 'get child comment trilog'));\n    }\n  };\n\n  const postChildComment = () => {\n    if (!is_login) {\n      Swal.fire({\n        title: \"로그인\",\n        text: \"로그인을 먼저 해주세요.\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonColor: \"#3085d6\",\n        cancelButtonColor: \"#d33\",\n        confirmButtonText: \"로그인하기\",\n        cancelButtonText: \"닫기\"\n      }).then(result => {\n        if (result.isConfirmed) {\n          history.push(\"/login\");\n        }\n      });\n      return;\n    }\n\n    const access_token = localStorage.getItem(\"access_token\");\n    fetch(`${config}/api/boards/comments/children/${comment.commentParent.id}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': `${access_token}`\n      },\n      body: JSON.stringify({\n        contents: commentRef.current.value\n      })\n    }).then(res => res.json()).then(data => {\n      setData(prevState => [...prevState, data.results]);\n\n      if (!showReply) {\n        setShowReply(true);\n      }\n\n      document.getElementById(input_id).value = '';\n      Swal.fire({\n        title: data.msg,\n        icon: \"success\"\n      });\n    }).catch(err => console.log(err, 'child comment post'));\n  };\n\n  const hitLike = () => {\n    if (!is_login) {\n      alert(\"로그인을 먼저 하세요!\");\n      return;\n    }\n\n    dispatch(TrilogActions.setParentCommentLike(comment.commentParent.id));\n  };\n\n  const getMorecomment = () => {\n    const access_token = localStorage.getItem(\"access_token\");\n    fetch(`${config}/api/all/boards/comments/children/${comment.commentParent.id}?page=${page}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json',\n        'Authorization': `${access_token}`\n      }\n    }).then(res => res.json()).then(data => {\n      setData(prevState => [...prevState, ...data.results]);\n\n      if (!data.last) {\n        setPage(prevState => prevState + 1);\n        setLast(data.last);\n      } else {\n        setPage(1);\n        setLast(data.last);\n      }\n    }).catch(err => console.log(err, 'get child comment trilog'));\n  };\n\n  const showEdit = () => {\n    setEdit(!edit);\n  };\n\n  const editComment = () => {\n    setEdit(!edit);\n    dispatch(TrilogActions.editParentComment(comment.commentParent.id, parentCommentEdit));\n  };\n\n  const deleteComment = () => {\n    Swal.fire({\n      title: '해당 댓글을 삭제하시겠습니까?',\n      showDenyButton: true,\n      showCancelButton: false,\n      confirmButtonText: `삭제`,\n      denyButtonText: `취소`\n    }).then(result => {\n      if (result.isConfirmed) {\n        dispatch(TrilogActions.removeParentComment(comment.commentParent.id));\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CommentContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ParentComment, {\n        children: [/*#__PURE__*/_jsxDEV(UserContainer, {\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: comment.author.profileImgUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: comment.author.nickname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          children: edit ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: /*#__PURE__*/_jsxDEV(EditInput, {\n              type: \"text\",\n              value: parentCommentEdit,\n              onChange: e => setParentCommentEdit(e.target.value),\n              onKeyPress: e => {\n                if (window.event.keyCode === 13) {\n                  editComment();\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this)\n          }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: comment.commentParent.contents\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Date, {\n              children: comment.commentParent.createdAt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Likes, {\n        children: [/*#__PURE__*/_jsxDEV(LikeSpan, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: hitLike,\n            children: /*#__PURE__*/_jsxDEV(CommentLike, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"+\", comment.commentParent.likeNum]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddComment, {\n          onClick: () => setShowReplyInput(!showReplyInput),\n          children: \"\\uB2F5\\uAE00 \\uC791\\uC131\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 13\n        }, this), comment.user.isMembers ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(EditButton, {\n            type: \"button\",\n            value: edit ? \"취소\" : \"수정\",\n            onClick: showEdit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(DeleteButton, {\n            type: \"button\",\n            value: \"\\uC0AD\\uC81C\",\n            onClick: deleteComment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ReplyComment, {\n        showReplyInput: showReplyInput,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: input_id,\n          type: \"text\",\n          placeholder: \"\\uB2F5\\uAE00 \\uCD94\\uAC00...\",\n          ref: commentRef,\n          onKeyPress: () => {\n            if (window.event.keyCode === 13) {\n              postChildComment();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this), comment.commentParent.commentChildNum === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(ShowComment, {\n      children: showReply ? /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: showReplyComment,\n        children: \"\\uB313\\uAE00 \\uAC10\\uCD94\\uAE30 \\u25B2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 15\n      }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: showReplyComment,\n        children: [\"\\uB313\\uAE00 \\uBCF4\\uAE30(\", comment.commentParent.commentChildNum, \") \\u25BC\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(ReplyContainer, {\n      showReply: showReply,\n      children: data.map((val, index) => {\n        return /*#__PURE__*/_jsxDEV(BoardChildComment, {\n          comment: val,\n          parent_id: comment.commentParent.id,\n          setData: setData\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ShowMoreComment, {\n      showReply: showReply,\n      last: last,\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: getMorecomment,\n        children: \"\\u2514 \\uB300\\uB313\\uAE00 \\uB354 \\uBCF4\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(BoardComment, \"Mn+YpcWwyQZJ8Iuu7W6DOpIlnjY=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = BoardComment;\nconst UserContainer = styled.div`\n  display: flex;\n  align-items: center;\n  margin-right: 1rem;\n  font-family: \"AppleSDGothicNeoB\";\n\n  & img {\n    width: 2.375rem;\n    border-radius: 50%;\n    margin-right: 0.5rem;\n  }\n`;\n_c2 = UserContainer;\nconst ParentComment = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n`;\n_c3 = ParentComment;\nconst CommentContainer = styled.div`\n  width: 100%;\n`;\n_c4 = CommentContainer;\nconst Content = styled.div`\n  display: flex;\n  align-items: center;\n`;\n_c5 = Content;\nconst Date = styled.div`\n  position: absolute;\n  right: 0;\n  \n  @media (max-width: 980px) {\n    display: none;\n  }\n`;\n_c6 = Date;\nconst Likes = styled.div`\n  margin: 0.5rem 0 0.5rem 2.5rem;\n  display: flex;\n  align-items: center;\n\n  & span {\n    width: 65px;\n  }\n`;\n_c7 = Likes;\nconst LikeSpan = styled.span`\n  display: flex;\n  align-items: center;\n\n  & svg {\n    cursor: pointer;\n    width: 1.2rem;\n    margin-right: 0.5rem;\n  }\n\n  & span {\n    font-size: 15px;\n  }\n`;\n_c8 = LikeSpan;\nconst ShowComment = styled.div`\n  margin: 0.5rem 0;\n  color: #2b61e1;\n\n  & span {\n    cursor: pointer;\n    font-size: 15px;\n    margin-left: 2.5rem;\n  }\n`;\n_c9 = ShowComment;\nconst ReplyComment = styled.div`\n  display: ${props => props.showReplyInput ? \"flex\" : \"none\"};\n  align-items: center;\n  margin: 1.5rem 0 1.5rem 2.5rem;\n\n  & input {\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    border: 1px solid rgb(43,97,225,0.6);\n    border-radius: 5px;\n    padding: 0 1rem;\n  }\n`;\n_c10 = ReplyComment;\nconst ReplyContainer = styled.div`\n  display: ${props => props.showReply ? \"block\" : \"none\"};\n  margin: 0 0 1.5rem 2.5rem;\n`;\n_c11 = ReplyContainer;\nconst AddComment = styled.span`\n  font-size: 13px;\n`;\n_c12 = AddComment;\nconst EditButton = styled.input`\n  cursor: pointer;\n  background-color: #2b61e1;\n  color: #fff;\n  border: 1px solid #2b61e1;\n  border-radius: 5px;\n  padding: .1rem .5rem;\n  margin: 0 .5rem;\n  font-size: 11px;\n`;\n_c13 = EditButton;\nconst DeleteButton = styled.input`\n  cursor: pointer;\n  background-color: #f22d3f;\n  border: 1px solid #f22d3f;\n  color: #fff;\n  border-radius: 5px;\n  padding: .1rem .5rem;\n  font-size: 11px;\n`;\n_c14 = DeleteButton;\nconst EditInput = styled.input`\n  outline: none;\n  border: 0;\n  box-sizing: border-box;\n  width: 100%;\n  height: 30px;\n  border: 1px solid rgb(43,97,225,0.6);\n  border-radius: 5px;\n  padding: 0 1rem;\n`;\n_c15 = EditInput;\nconst ShowMoreComment = styled.div`\n  width: 100%;\n  display: ${props => !props.last ? \"flex\" : \"none\"};\n  margin: 0 0 1.5rem 2.5rem;\n\n  & span {\n      cursor: pointer;\n  }\n`;\n_c16 = ShowMoreComment;\nexport default BoardComment;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n\n$RefreshReg$(_c, \"BoardComment\");\n$RefreshReg$(_c2, \"UserContainer\");\n$RefreshReg$(_c3, \"ParentComment\");\n$RefreshReg$(_c4, \"CommentContainer\");\n$RefreshReg$(_c5, \"Content\");\n$RefreshReg$(_c6, \"Date\");\n$RefreshReg$(_c7, \"Likes\");\n$RefreshReg$(_c8, \"LikeSpan\");\n$RefreshReg$(_c9, \"ShowComment\");\n$RefreshReg$(_c10, \"ReplyComment\");\n$RefreshReg$(_c11, \"ReplyContainer\");\n$RefreshReg$(_c12, \"AddComment\");\n$RefreshReg$(_c13, \"EditButton\");\n$RefreshReg$(_c14, \"DeleteButton\");\n$RefreshReg$(_c15, \"EditInput\");\n$RefreshReg$(_c16, \"ShowMoreComment\");","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/components/trilog/BoardComment.js"],"names":["React","styled","CommentLike","history","BoardChildComment","actionCreators","TrilogActions","useDispatch","useSelector","config","Swal","BoardComment","props","dispatch","is_login","state","user","comment","commentRef","useRef","showReply","setShowReply","useState","showReplyInput","setShowReplyInput","data","setData","edit","setEdit","parentCommentEdit","setParentCommentEdit","page","setPage","last","setLast","input_id","commentParent","id","useEffect","undefined","contents","showReplyComment","access_token","localStorage","getItem","fetch","method","headers","then","res","json","results","prevState","catch","err","console","log","postChildComment","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","result","isConfirmed","push","body","JSON","stringify","current","value","document","getElementById","msg","hitLike","alert","setParentCommentLike","getMorecomment","showEdit","editComment","editParentComment","deleteComment","showDenyButton","denyButtonText","removeParentComment","author","profileImgUrl","nickname","e","target","window","event","keyCode","createdAt","likeNum","isMembers","commentChildNum","map","val","index","UserContainer","div","ParentComment","CommentContainer","Content","Date","Likes","LikeSpan","span","ShowComment","ReplyComment","ReplyContainer","AddComment","EditButton","input","DeleteButton","EditInput","ShowMoreComment"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { CommentLike } from \"media/svg/Svg\";\r\nimport { history } from \"redux/configureStore\";\r\nimport { BoardChildComment } from \"components/components\";\r\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { config } from \"redux/modules/config\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst BoardComment = (props) => {\r\n    const dispatch = useDispatch();\r\n    const is_login = useSelector((state) => state.user.is_login); // 로그인 체크 여부\r\n\r\n    const { comment } = props; // BoardDetail 컴포넌트로부터 받은 data\r\n\r\n    const commentRef = React.useRef(); // 부모 댓글 추가 시 가져오는 내용\r\n\r\n    const [showReply, setShowReply] = React.useState(false); // 대댓글(자식 댓글) 보여주기 토글\r\n    const [showReplyInput, setShowReplyInput] = React.useState(false); // 답글 작성 토글\r\n    const [data, setData] = React.useState([]); // 대댓글(자식 댓글) 정보\r\n    const [edit, setEdit] = React.useState(false); // 부모 댓글 수정\r\n    const [parentCommentEdit, setParentCommentEdit] = React.useState(''); // Edit일때만 사용\r\n    const [page, setPage] = React.useState(1); // 부모 댓글 페이징\r\n    const [last, setLast] = React.useState(true); // 부모 댓글 페이징 - 다음 댓글 있나 없나 여부\r\n\r\n    const input_id = `commentChildInput${comment.commentParent.id}`;\r\n\r\n    React.useEffect(() => {\r\n      if(comment.commentParent !== undefined) {\r\n        setParentCommentEdit(comment.commentParent.contents);\r\n      }\r\n    }, []);\r\n\r\n    // 대댓글 조회 - 대댓글은 Redux에서 관리안함\r\n    const showReplyComment = () => {\r\n        setShowReply(!showReply);\r\n        \r\n        if(!showReply) {\r\n            const access_token = localStorage.getItem(\"access_token\");\r\n\r\n            fetch(`${config}/api/all/boards/comments/children/${comment.commentParent.id}?page=${page}`, {\r\n                method : 'GET',\r\n                headers : {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                    'Authorization': `${access_token}`,\r\n                },\r\n            })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n              setData(data.results);\r\n\r\n              if(!data.last) {\r\n                setPage(prevState => prevState + 1);\r\n                setLast(data.last);\r\n              }\r\n            })\r\n            .catch(err => console.log(err, 'get child comment trilog'));\r\n        }\r\n    };\r\n    \r\n    const postChildComment = () => {\r\n      if(!is_login) {\r\n          Swal.fire({\r\n            title: \"로그인\",\r\n            text: \"로그인을 먼저 해주세요.\",\r\n            icon: \"warning\",\r\n            showCancelButton: true,\r\n            confirmButtonColor: \"#3085d6\",\r\n            cancelButtonColor: \"#d33\",\r\n            confirmButtonText: \"로그인하기\",\r\n            cancelButtonText: \"닫기\",\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                history.push(\"/login\");\r\n            }\r\n        });\r\n        return;\r\n      }\r\n\r\n      const access_token = localStorage.getItem(\"access_token\");\r\n\r\n      fetch(`${config}/api/boards/comments/children/${comment.commentParent.id}`, {\r\n          method: 'POST',\r\n          headers: {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Authorization': `${access_token}`,\r\n          },\r\n          body: JSON.stringify({\r\n              contents: commentRef.current.value,\r\n          })\r\n      })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setData(prevState => [...prevState, data.results]);\r\n        if(!showReply) {\r\n          setShowReply(true);\r\n        }\r\n        document.getElementById(input_id).value = '';\r\n\r\n        Swal.fire({\r\n          title: data.msg,\r\n          icon: \"success\",\r\n      });\r\n      })\r\n      .catch(err => console.log(err, 'child comment post'));\r\n    }\r\n\r\n    const hitLike = () => {\r\n      if(!is_login) {\r\n        alert(\"로그인을 먼저 하세요!\");\r\n        return;\r\n      }\r\n      dispatch(TrilogActions.setParentCommentLike(comment.commentParent.id));\r\n    };\r\n\r\n    const getMorecomment = () => {\r\n      const access_token = localStorage.getItem(\"access_token\");\r\n\r\n      fetch(`${config}/api/all/boards/comments/children/${comment.commentParent.id}?page=${page}`, {\r\n          method : 'GET',\r\n          headers : {\r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json',\r\n              'Authorization': `${access_token}`,\r\n          },\r\n      })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        setData(prevState => [...prevState, ...data.results]);\r\n\r\n        if(!data.last) {\r\n          setPage(prevState => prevState + 1);\r\n          setLast(data.last);\r\n        } else {\r\n          setPage(1);\r\n          setLast(data.last);\r\n        }\r\n      })\r\n      .catch(err => console.log(err, 'get child comment trilog'));\r\n    };\r\n\r\n    const showEdit = () => {\r\n      setEdit(!edit);\r\n    };\r\n\r\n    const editComment = () => {\r\n      setEdit(!edit);\r\n      dispatch(TrilogActions.editParentComment(comment.commentParent.id, parentCommentEdit));\r\n    };\r\n\r\n    const deleteComment =() => {\r\n      Swal.fire({\r\n        title: '해당 댓글을 삭제하시겠습니까?',\r\n        showDenyButton: true,\r\n        showCancelButton: false,\r\n        confirmButtonText: `삭제`,\r\n        denyButtonText: `취소`,\r\n      }).then((result) => {\r\n        if (result.isConfirmed) {\r\n          dispatch(TrilogActions.removeParentComment(comment.commentParent.id));\r\n        }\r\n      });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <CommentContainer>\r\n          <ParentComment>\r\n            <UserContainer>\r\n              <img src={comment.author.profileImgUrl} />\r\n              <span>{comment.author.nickname}</span>\r\n            </UserContainer>\r\n            <Content>\r\n              {edit ? (\r\n                <>\r\n                  <EditInput\r\n                    type=\"text\"\r\n                    value={parentCommentEdit}\r\n                    onChange={(e) => setParentCommentEdit(e.target.value)}\r\n                    onKeyPress={(e) => {\r\n                      if (window.event.keyCode === 13) {\r\n                        editComment();\r\n                      }\r\n                    }}\r\n                  />\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div>{comment.commentParent.contents}</div>\r\n                  <Date>{comment.commentParent.createdAt}</Date>\r\n                </>\r\n              )}\r\n            </Content>\r\n          </ParentComment>\r\n          <Likes>\r\n            <LikeSpan>\r\n              <div onClick={hitLike}>\r\n                <CommentLike />\r\n              </div>\r\n              <span>+{comment.commentParent.likeNum}</span>\r\n            </LikeSpan>\r\n            <AddComment onClick={() => setShowReplyInput(!showReplyInput)}>\r\n              답글 작성\r\n            </AddComment>\r\n            {comment.user.isMembers ? (\r\n              <>\r\n                <EditButton\r\n                  type=\"button\"\r\n                  value={edit ? \"취소\" : \"수정\"}\r\n                  onClick={showEdit}\r\n                />\r\n                <DeleteButton\r\n                  type=\"button\"\r\n                  value=\"삭제\"\r\n                  onClick={deleteComment}\r\n                />\r\n              </>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </Likes>\r\n          <ReplyComment showReplyInput={showReplyInput}>\r\n            <input\r\n              id={input_id}\r\n              type=\"text\"\r\n              placeholder=\"답글 추가...\"\r\n              ref={commentRef}\r\n              onKeyPress={() => {\r\n                if (window.event.keyCode === 13) {\r\n                  postChildComment();\r\n                }\r\n              }}\r\n            />\r\n          </ReplyComment>\r\n        </CommentContainer>\r\n        {comment.commentParent.commentChildNum === 0 ? (\r\n          <></>\r\n        ) : (\r\n          <ShowComment>\r\n            {showReply ? (\r\n              <span onClick={showReplyComment}>댓글 감추기 ▲</span>\r\n            ) : (\r\n              <span onClick={showReplyComment}>\r\n                댓글 보기({comment.commentParent.commentChildNum}) ▼\r\n              </span>\r\n            )}\r\n          </ShowComment>\r\n        )}\r\n        <ReplyContainer showReply={showReply}>\r\n          {data.map((val, index) => {\r\n            return (\r\n              <BoardChildComment\r\n                key={index}\r\n                comment={val}\r\n                parent_id={comment.commentParent.id}\r\n                setData={setData}\r\n              />\r\n            );\r\n          })}\r\n        </ReplyContainer>\r\n        <ShowMoreComment showReply={showReply} last={last}>\r\n          <span onClick={getMorecomment}>└ 대댓글 더 보기</span>\r\n        </ShowMoreComment>\r\n      </>\r\n    );\r\n};\r\n\r\nconst UserContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 1rem;\r\n  font-family: \"AppleSDGothicNeoB\";\r\n\r\n  & img {\r\n    width: 2.375rem;\r\n    border-radius: 50%;\r\n    margin-right: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst ParentComment = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst CommentContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst Content = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Date = styled.div`\r\n  position: absolute;\r\n  right: 0;\r\n  \r\n  @media (max-width: 980px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst Likes = styled.div`\r\n  margin: 0.5rem 0 0.5rem 2.5rem;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & span {\r\n    width: 65px;\r\n  }\r\n`;\r\n\r\nconst LikeSpan = styled.span`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  & svg {\r\n    cursor: pointer;\r\n    width: 1.2rem;\r\n    margin-right: 0.5rem;\r\n  }\r\n\r\n  & span {\r\n    font-size: 15px;\r\n  }\r\n`;\r\n\r\nconst ShowComment = styled.div`\r\n  margin: 0.5rem 0;\r\n  color: #2b61e1;\r\n\r\n  & span {\r\n    cursor: pointer;\r\n    font-size: 15px;\r\n    margin-left: 2.5rem;\r\n  }\r\n`;\r\n\r\nconst ReplyComment = styled.div`\r\n  display: ${(props) => (props.showReplyInput ? \"flex\" : \"none\")};\r\n  align-items: center;\r\n  margin: 1.5rem 0 1.5rem 2.5rem;\r\n\r\n  & input {\r\n    outline: none;\r\n    border: 0;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 40px;\r\n    border: 1px solid rgb(43,97,225,0.6);\r\n    border-radius: 5px;\r\n    padding: 0 1rem;\r\n  }\r\n`;\r\n\r\nconst ReplyContainer = styled.div`\r\n  display: ${(props) => (props.showReply ? \"block\" : \"none\")};\r\n  margin: 0 0 1.5rem 2.5rem;\r\n`;\r\n\r\nconst AddComment = styled.span`\r\n  font-size: 13px;\r\n`;\r\n\r\nconst EditButton = styled.input`\r\n  cursor: pointer;\r\n  background-color: #2b61e1;\r\n  color: #fff;\r\n  border: 1px solid #2b61e1;\r\n  border-radius: 5px;\r\n  padding: .1rem .5rem;\r\n  margin: 0 .5rem;\r\n  font-size: 11px;\r\n`;\r\n\r\nconst DeleteButton = styled.input`\r\n  cursor: pointer;\r\n  background-color: #f22d3f;\r\n  border: 1px solid #f22d3f;\r\n  color: #fff;\r\n  border-radius: 5px;\r\n  padding: .1rem .5rem;\r\n  font-size: 11px;\r\n`;\r\n\r\nconst EditInput = styled.input`\r\n  outline: none;\r\n  border: 0;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 30px;\r\n  border: 1px solid rgb(43,97,225,0.6);\r\n  border-radius: 5px;\r\n  padding: 0 1rem;\r\n`;\r\n\r\nconst ShowMoreComment = styled.div`\r\n  width: 100%;\r\n  display: ${(props) => (!props.last ? \"flex\" : \"none\")};\r\n  margin: 0 0 1.5rem 2.5rem;\r\n\r\n  & span {\r\n      cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default BoardComment;\r\n"]},"metadata":{},"sourceType":"module"}