{"ast":null,"code":"import React from'react';import _ from'lodash';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var InfinityScroll=function InfinityScroll(props){var callNext=props.callNext,is_next=props.is_next;var handleScroll=_.throttle(function(){var _window=window,innerHeight=_window.innerHeight;var scrollHeight=document.body.scrollHeight;var scrollTop=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;if(scrollHeight-innerHeight-scrollTop<100){callNext();}},300);React.useEffect(function(){if(!is_next){window.addEventListener('scroll',handleScroll);}else{window.removeEventListener('scroll',handleScroll);}return function(){return window.removeEventListener('scroll',handleScroll);};},[is_next]);return/*#__PURE__*/_jsx(_Fragment,{children:props.children});};export default InfinityScroll;","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/shared/InfinityScroll.js"],"names":["React","_","InfinityScroll","props","callNext","is_next","handleScroll","throttle","window","innerHeight","scrollHeight","document","body","scrollTop","documentElement","useEffect","addEventListener","removeEventListener","children"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,C,gGAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,IACtBC,CAAAA,QADsB,CACAD,KADA,CACtBC,QADsB,CACZC,OADY,CACAF,KADA,CACZE,OADY,CAG9B,GAAMC,CAAAA,YAAY,CAAGL,CAAC,CAACM,QAAF,CAAW,UAAM,aAEZC,MAFY,CAE3BC,WAF2B,SAE3BA,WAF2B,IAG3BC,CAAAA,YAH2B,CAGXC,QAAQ,CAACC,IAHE,CAG3BF,YAH2B,CAKlC,GAAMG,CAAAA,SAAS,CAAIF,QAAQ,CAACG,eAAT,EAA4BH,QAAQ,CAACG,eAAT,CAAyBD,SAAtD,EAAoEF,QAAQ,CAACC,IAAT,CAAcC,SAApG,CAEA,GAAGH,YAAY,CAAGD,WAAf,CAA6BI,SAA7B,CAAyC,GAA5C,CAAiD,CAC7CT,QAAQ,GACX,CAEJ,CAXoB,CAWlB,GAXkB,CAArB,CAaAJ,KAAK,CAACe,SAAN,CAAgB,UAAM,CAClB,GAAG,CAACV,OAAJ,CAAY,CACRG,MAAM,CAACQ,gBAAP,CAAwB,QAAxB,CAAkCV,YAAlC,EACH,CAFD,IAEO,CACHE,MAAM,CAACS,mBAAP,CAA2B,QAA3B,CAAqCX,YAArC,EACH,CACD,MAAO,kBAAME,CAAAA,MAAM,CAACS,mBAAP,CAA2B,QAA3B,CAAqCX,YAArC,CAAN,EAAP,CACH,CAPD,CAOG,CAACD,OAAD,CAPH,EASA,mBACI,yBACKF,KAAK,CAACe,QADX,EADJ,CAKH,CA9BD,CAgCA,cAAehB,CAAAA,cAAf","sourcesContent":["import React from 'react';\r\nimport _ from 'lodash';\r\n\r\nconst InfinityScroll = (props) => {\r\n    const { callNext, is_next } = props;\r\n\r\n    const handleScroll = _.throttle(() => {\r\n\r\n        const {innerHeight} = window;\r\n        const {scrollHeight} = document.body;\r\n\r\n        const scrollTop = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop;\r\n \r\n        if(scrollHeight - innerHeight - scrollTop < 100) {\r\n            callNext();\r\n        }\r\n        \r\n    }, 300);\r\n\r\n    React.useEffect(() => {\r\n        if(!is_next){\r\n            window.addEventListener('scroll', handleScroll);\r\n        } else {\r\n            window.removeEventListener('scroll', handleScroll);\r\n        }\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, [is_next]);\r\n\r\n    return (\r\n        <>\r\n            {props.children}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default InfinityScroll;"]},"metadata":{},"sourceType":"module"}