{"ast":null,"code":"var _jsxFileName = \"/Users/parkminkyung/Desktop/git/triport/src/pages/Trils.js\",\n    _s = $RefreshSig$();\n\nimport Videom3u8 from \"components/trils/Videom3u8\";\nimport Videomp4 from \"components/trils/Videomp4\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { history } from \"redux/configureStore\";\nimport { Plus } from \"media/svg/Svg\";\nimport styled from \"styled-components\";\nimport TrilsDetail from \"../components/trils/TrilsDetail\";\nimport { TrilsActions } from \"redux/modules/trils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Spinner from \"../components/Spinner\";\nimport Swal from \"sweetalert2\";\nimport queryString from \"query-string\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Trils = props => {\n  _s();\n\n  const {\n    search\n  } = props.location;\n  const queryObj = queryString.parse(search);\n  const access_token = localStorage.getItem(\"access_token\");\n  const dispatch = useDispatch();\n  const page = useSelector(state => state.trils.page);\n  const post_list = useSelector(state => state.trils.data);\n  const modal = useSelector(state => state.trils.modal);\n  const [filter, _setFilter] = useState(true);\n  const filterRef = useRef(filter);\n  const keyword = useRef(\"\");\n  /* 필터 기능 - 좋아요순 최신순 */\n\n  const tabToggle = () => {\n    const tab = document.getElementById(\"FilterTab\");\n    const like = document.getElementById(\"LikeText\");\n    const newest = document.getElementById(\"NewestText\");\n\n    const setFilter = data => {\n      filterRef.current = data;\n\n      _setFilter(data);\n    };\n\n    if (tab.style.left !== \"50%\") {\n      tab.style.left = \"50%\";\n      like.style.color = \"#89ACFF\";\n      newest.style.color = \"#fff\";\n    } else {\n      tab.style.left = \"0%\";\n      like.style.color = \"#fff\";\n      newest.style.color = \"#89ACFF\";\n    }\n\n    console.log(filter);\n\n    if (filter) {\n      // 최신순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"modifiedAt\", 1));\n    } else {\n      // 좋아요순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"likeNum\", 1));\n    }\n\n    setFilter(!filter);\n  };\n\n  useEffect(() => {\n    dispatch(TrilsActions.getPost());\n  }, []);\n\n  const next = () => {\n    const setFilter = data => {\n      filterRef.current = data;\n\n      _setFilter(data);\n    };\n\n    if (filter) {\n      // 좋아요순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"likeNum\", page));\n    } else {\n      // 최신순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"modifiedAt\", page));\n    }\n\n    setFilter(!filter);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(SearchContainer, {\n      children: /*#__PURE__*/_jsxDEV(Search, {\n        type: \"text\",\n        placeholder: \"\\uAC80\\uC0C9\\uC5B4\\uB97C \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n        ref: keyword,\n        onKeyPress: e => {\n          if (window.event.keyCode === 13) {\n            if (filter) {\n              // 좋아요순\n              dispatch(TrilsActions.searchPost(keyword.current.value, \"likeNum\", 1));\n            } else {\n              // 최신순\n              dispatch(TrilsActions.searchPost(keyword.current.value, \"modifiedAt\", 1));\n            }\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FilterContainer, {\n      children: /*#__PURE__*/_jsxDEV(Filter, {\n        children: [/*#__PURE__*/_jsxDEV(Background, {\n          id: \"FilterTab\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(LikeFilter, {\n          onClick: tabToggle,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"LikeText\",\n            children: \"\\uC88B\\uC544\\uC694\\uC21C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NewestFilter, {\n          onClick: tabToggle,\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"NewestText\",\n            children: \"\\uCD5C\\uC2E0\\uC21C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CenterDiv, {\n      children: [modal ? /*#__PURE__*/_jsxDEV(TrilsDetail, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 18\n      }, this) : null, /*#__PURE__*/_jsxDEV(FloatingButton, {\n        onClick: () => {\n          if (access_token === null) {\n            Swal.fire({\n              title: \"로그인을 해주세요.\",\n              text: \"로그인 후 글작성이 가능합니다.\",\n              icon: \"warning\",\n              showCancelButton: true,\n              confirmButtonColor: \"#3085d6\",\n              cancelButtonColor: \"#d33\",\n              confirmButtonText: \"로그인하기\",\n              cancelButtonText: \"닫기\"\n            }).then(result => {\n              if (result.isConfirmed) {\n                history.push(\"/login\");\n              }\n            });\n          } else {\n            history.push(\"/trils/write\");\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(Plus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(PostLine, {\n        children: post_list.length === 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n          dataLength: post_list.length,\n          next: next,\n          hasMore: true,\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            flexWrap: \"wrap\"\n          },\n          loader: /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 23\n          }, this),\n          children: post_list.map((p, idx) => {\n            if ((idx + 1) % 3 !== 0) {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Videom3u8, { ...p,\n                  mr: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false);\n            } else {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Videom3u8, { ...p\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false);\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Trils, \"4cyHsQAyJgTujFJ70HCGra+n14c=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = Trils;\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 80rem;\n`;\n_c2 = Container;\nconst NewestFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"TTTogether\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: #89acff;\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n_c3 = NewestFilter;\nconst LikeFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"TTTogether\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: #fff;\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n_c4 = LikeFilter;\nconst Background = styled.div`\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  left: 0;\n  background: #2b61e1 0% 0% no-repeat padding-box;\n  border-radius: 5px;\n  transition: left 0.5s;\n`;\n_c5 = Background;\nconst Filter = styled.div`\n  position: relative;\n  width: 14.125rem;\n  height: 2.5rem;\n  background: #f4f4f4 0% 0% no-repeat padding-box;\n  box-shadow: 0px 3px 6px #00000029;\n  border-radius: 5px;\n  display: flex;\n`;\n_c6 = Filter;\nconst FilterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  margin-bottom: 4rem;\n`;\n_c7 = FilterContainer;\nconst Search = styled.input`\n  width: 40.625rem;\n  border: 1px solid rgb(43, 97, 225, 0.6);\n  border-radius: 5px;\n  outline: none;\n  padding: 0.75rem 1.25rem;\n`;\n_c8 = Search;\nconst SearchContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 50px;\n`;\n_c9 = SearchContainer;\nconst CenterDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin: 0 auto;\n  width: 80rem;\n`;\n_c10 = CenterDiv;\nconst FloatingButton = styled.div`\n  position: fixed;\n  bottom: 5%;\n  right: 3%;\n  width: 3.125rem;\n  height: 3.125rem;\n  cursor: pointer;\n  z-index: 9999;\n\n  & svg {\n    width: 100%;\n    height: 100%;\n    fill: #2b61e1;\n  }\n`;\n_c11 = FloatingButton;\nconst PostLine = styled.div`\n  display: flex;\n  width: 1280px;\n  margin: 0px auto;\n  margin-bottom: 4.3rem;\n  flex-wrap: wrap;\n`;\n_c12 = PostLine;\nexport default Trils;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"Trils\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"NewestFilter\");\n$RefreshReg$(_c4, \"LikeFilter\");\n$RefreshReg$(_c5, \"Background\");\n$RefreshReg$(_c6, \"Filter\");\n$RefreshReg$(_c7, \"FilterContainer\");\n$RefreshReg$(_c8, \"Search\");\n$RefreshReg$(_c9, \"SearchContainer\");\n$RefreshReg$(_c10, \"CenterDiv\");\n$RefreshReg$(_c11, \"FloatingButton\");\n$RefreshReg$(_c12, \"PostLine\");","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/pages/Trils.js"],"names":["Videom3u8","Videomp4","React","useEffect","useRef","useState","history","Plus","styled","TrilsDetail","TrilsActions","useDispatch","useSelector","InfiniteScroll","Spinner","Swal","queryString","Trils","props","search","location","queryObj","parse","access_token","localStorage","getItem","dispatch","page","state","trils","post_list","data","modal","filter","_setFilter","filterRef","keyword","tabToggle","tab","document","getElementById","like","newest","setFilter","current","style","left","color","console","log","getPost","value","next","e","window","event","keyCode","searchPost","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","push","length","display","flexDirection","flexWrap","map","p","idx","Container","div","NewestFilter","LikeFilter","Background","Filter","FilterContainer","Search","input","SearchContainer","CenterDiv","FloatingButton","PostLine"],"mappings":"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","sourcesContent":["import Videom3u8 from \"components/trils/Videom3u8\";\nimport Videomp4 from \"components/trils/Videomp4\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { history } from \"redux/configureStore\";\nimport { Plus } from \"media/svg/Svg\";\nimport styled from \"styled-components\";\nimport TrilsDetail from \"../components/trils/TrilsDetail\";\nimport { TrilsActions } from \"redux/modules/trils\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport Spinner from \"../components/Spinner\";\nimport Swal from \"sweetalert2\";\nimport queryString from \"query-string\";\n\nconst Trils = (props) => {\n  const { search } = props.location;\n  const queryObj = queryString.parse(search);\n  const access_token = localStorage.getItem(\"access_token\");\n  const dispatch = useDispatch();\n  const page = useSelector((state) => state.trils.page);\n  const post_list = useSelector((state) => state.trils.data);\n  const modal = useSelector((state) => state.trils.modal);\n  const [filter, _setFilter] = useState(true);\n  const filterRef = useRef(filter);\n  const keyword = useRef(\"\");\n\n  /* 필터 기능 - 좋아요순 최신순 */\n  const tabToggle = () => {\n    const tab = document.getElementById(\"FilterTab\");\n    const like = document.getElementById(\"LikeText\");\n    const newest = document.getElementById(\"NewestText\");\n\n    const setFilter = (data) => {\n      filterRef.current = data;\n      _setFilter(data);\n    };\n\n    if (tab.style.left !== \"50%\") {\n      tab.style.left = \"50%\";\n      like.style.color = \"#89ACFF\";\n      newest.style.color = \"#fff\";\n    } else {\n      tab.style.left = \"0%\";\n      like.style.color = \"#fff\";\n      newest.style.color = \"#89ACFF\";\n    }\n    console.log(filter);\n\n    if (filter) {\n      // 최신순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"modifiedAt\", 1));\n    } else {\n      // 좋아요순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"likeNum\", 1));\n    }\n    setFilter(!filter);\n  };\n\n  useEffect(() => {\n    dispatch(TrilsActions.getPost());\n  }, []);\n\n  const next = () => {\n    const setFilter = (data) => {\n      filterRef.current = data;\n      _setFilter(data);\n    };\n\n    if (filter) {\n      // 좋아요순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"likeNum\", page));\n    } else {\n      // 최신순\n      dispatch(TrilsActions.getPost(keyword.current.value, \"modifiedAt\", page));\n    }\n    setFilter(!filter);\n  };\n\n  return (\n    <Container>\n      <SearchContainer>\n        <Search\n          type=\"text\"\n          placeholder=\"검색어를 입력하세요.\"\n          ref={keyword}\n          onKeyPress={(e) => {\n            if (window.event.keyCode === 13) {\n              if (filter) {\n                // 좋아요순\n                dispatch(\n                  TrilsActions.searchPost(keyword.current.value, \"likeNum\", 1)\n                );\n              } else {\n                // 최신순\n                dispatch(\n                  TrilsActions.searchPost(\n                    keyword.current.value,\n                    \"modifiedAt\",\n                    1\n                  )\n                );\n              }\n            }\n          }}\n        />\n      </SearchContainer>\n      <FilterContainer>\n        <Filter>\n          <Background id=\"FilterTab\" />\n          <LikeFilter onClick={tabToggle}>\n            <span id=\"LikeText\">좋아요순</span>\n          </LikeFilter>\n          <NewestFilter onClick={tabToggle}>\n            <span id=\"NewestText\">최신순</span>\n          </NewestFilter>\n        </Filter>\n      </FilterContainer>\n      <CenterDiv>\n        {modal ? <TrilsDetail /> : null}\n        <FloatingButton\n          onClick={() => {\n            if (access_token === null) {\n              Swal.fire({\n                title: \"로그인을 해주세요.\",\n                text: \"로그인 후 글작성이 가능합니다.\",\n                icon: \"warning\",\n                showCancelButton: true,\n                confirmButtonColor: \"#3085d6\",\n                cancelButtonColor: \"#d33\",\n                confirmButtonText: \"로그인하기\",\n                cancelButtonText: \"닫기\",\n              }).then((result) => {\n                if (result.isConfirmed) {\n                  history.push(\"/login\");\n                }\n              });\n            } else {\n              history.push(\"/trils/write\");\n            }\n          }}\n        >\n          <Plus />\n        </FloatingButton>\n        <PostLine>\n          {post_list.length === 0 ? (\n            <></>\n          ) : (\n            <InfiniteScroll\n              dataLength={post_list.length}\n              next={next}\n              hasMore={true}\n              style={{\n                display: \"flex\",\n                flexDirection: \"row\",\n                flexWrap: \"wrap\",\n              }}\n              loader={<Spinner />}\n            >\n              {post_list.map((p, idx) => {\n                if ((idx + 1) % 3 !== 0) {\n                  return (\n                    <>\n                      <Videom3u8 {...p} mr />\n                    </>\n                  );\n                } else {\n                  return (\n                    <>\n                      <Videom3u8 {...p} />\n                    </>\n                  );\n                }\n              })}\n            </InfiniteScroll>\n          )}\n        </PostLine>\n      </CenterDiv>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: 80rem;\n`;\n\nconst NewestFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"TTTogether\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: #89acff;\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n\nconst LikeFilter = styled.div`\n  width: 50%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n\n  & span {\n    font-family: \"TTTogether\";\n    font-size: 14px;\n    letter-spacing: 0px;\n    color: #fff;\n    z-index: 10;\n    transition: color 0.3s;\n  }\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  width: 50%;\n  height: 100%;\n  left: 0;\n  background: #2b61e1 0% 0% no-repeat padding-box;\n  border-radius: 5px;\n  transition: left 0.5s;\n`;\n\nconst Filter = styled.div`\n  position: relative;\n  width: 14.125rem;\n  height: 2.5rem;\n  background: #f4f4f4 0% 0% no-repeat padding-box;\n  box-shadow: 0px 3px 6px #00000029;\n  border-radius: 5px;\n  display: flex;\n`;\n\nconst FilterContainer = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  margin-bottom: 4rem;\n`;\n\nconst Search = styled.input`\n  width: 40.625rem;\n  border: 1px solid rgb(43, 97, 225, 0.6);\n  border-radius: 5px;\n  outline: none;\n  padding: 0.75rem 1.25rem;\n`;\n\nconst SearchContainer = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  margin-bottom: 50px;\n`;\n\nconst CenterDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin: 0 auto;\n  width: 80rem;\n`;\n\nconst FloatingButton = styled.div`\n  position: fixed;\n  bottom: 5%;\n  right: 3%;\n  width: 3.125rem;\n  height: 3.125rem;\n  cursor: pointer;\n  z-index: 9999;\n\n  & svg {\n    width: 100%;\n    height: 100%;\n    fill: #2b61e1;\n  }\n`;\n\nconst PostLine = styled.div`\n  display: flex;\n  width: 1280px;\n  margin: 0px auto;\n  margin-bottom: 4.3rem;\n  flex-wrap: wrap;\n`;\n\nexport default Trils;\n"]},"metadata":{},"sourceType":"module"}