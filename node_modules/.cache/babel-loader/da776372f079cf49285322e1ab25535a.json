{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/parkminkyung/Desktop/git/triport/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17;import React,{useRef,useState,useEffect,Fragment}from\"react\";import styled from\"styled-components\";import Hls from\"hls.js\";import ProgressBar from\"./ProgressBar\";import{HeartEmpty,HeartFill}from\"media/svg/Svg\";import Uploadex from\"../../media/image/upload_ex.png\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TrilsTutorial=function TrilsTutorial(props){var open=props.open,history=props.history;var player=useRef(null);var players=useRef(null);var _useState=useState(0),_useState2=_slicedToArray(_useState,2),completed=_useState2[0],setCompleted=_useState2[1];var check=navigator.userAgent.toLowerCase();var is_iphone=check.indexOf(\"iphone\")!==-1;var params={src:props.information.videoUrl};useEffect(function(){if(is_iphone){return;}var hls=new Hls();if(hls===undefined){return;}if(Hls.isSupported()){hls.attachMedia(player.current);hls.config.debug=false;hls.on(Hls.Events.MEDIA_ATTACHED,function(event,data){hls.loadSource(params.src);});hls.on(Hls.Events.ERROR,function(event,data){if(data.fatal){switch(data.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log(\"네트워크 오류\");hls.startLoad();break;case Hls.ErrorTypes.MEDIA_ERROR:console.log(\"미디어 오류\");hls.recoverMediaError();break;default:hls.destroy();break;}}});return function(){return hls.destroy();};}else if(player.current.canPlayType(\"application/vnd.apple.mpegurl\")){player.current.src=params.src;player.current.addEventListener(\"loadedmetadata\",function(){player.current.play();});}},[params.src]);var hlsplay=function hlsplay(){if(player.current.readyState!==4){return;}player.current.play();};var hlspause=function hlspause(){if(player.current.readyState!==4){return;}player.current.pause();};var mp4play=function mp4play(){if(players.current.readyState!==4){return;}players.current.play();};var mp4pause=function mp4pause(){if(players.current.readyState!==4){return;}players.current.pause();};var like=function like(){Swal.fire({title:\"좋아요 기능\",text:\"로그인 후 좋아요를 누를 수 있습니다.\",confirmButtonText:\"확인\"});};var mobile_chk=function mobile_chk(){history.push(\"/trils/tutorial\");};return/*#__PURE__*/_jsxs(VideoCards,{children:[/*#__PURE__*/_jsxs(Profile,{children:[/*#__PURE__*/_jsx(ProfileImg,{src:props.author.profileImgUrl}),/*#__PURE__*/_jsx(ProfileId,{children:props.author.nickname})]}),is_iphone?/*#__PURE__*/_jsx(VideoPlay,{src:params.src,loop:true,autoPlay:true,muted:true,playsInline:true}):/*#__PURE__*/_jsx(_Fragment,{children:props.information.posPlay?/*#__PURE__*/_jsx(_Fragment,{children:props.information.videoType===\"mp4\"||props.information.videoType===\"mov\"?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(VideoPlay,{onMouseOver:mp4play,onMouseLeave:mp4pause,ref:players,src:params.src,muted:true,loop:true,onTimeUpdate:function onTimeUpdate(){setCompleted(players.current.currentTime/players.current.duration*100);}})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(VideoPlay,{onMouseOver:hlsplay,onMouseLeave:hlspause,ref:player,muted:true,loop:true,onTimeUpdate:function onTimeUpdate(){setCompleted(player.current.currentTime/player.current.duration*100);}})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Uploading,{src:Uploadex})})}),/*#__PURE__*/_jsx(ProgressBar,{bgcolor:\"#6a1b9a\",completed:completed}),/*#__PURE__*/_jsxs(PostBottom,{children:[/*#__PURE__*/_jsx(BottomCov,{children:/*#__PURE__*/_jsx(LikeCov,{onClick:like,children:props.member.isLike?/*#__PURE__*/_jsx(HeartFill,{}):/*#__PURE__*/_jsx(HeartEmpty,{})})}),/*#__PURE__*/_jsxs(PostLikeCnt,{children:[\"\\uC88B\\uC544\\uC694 +\",props.information.likeNum]}),/*#__PURE__*/_jsx(PostUserComment,{children:props.information.hashtag.map(function(p,idx){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(Hash,{children:[\"#\",p]})},idx);})})]}),window.innerWidth>1024?/*#__PURE__*/_jsxs(TutorialBg,{onMouseOver:hlsplay,onMouseLeave:hlspause,onClick:open,children:[/*#__PURE__*/_jsxs(TutorialTextCover,{children:[/*#__PURE__*/_jsx(TutirialText,{children:\"\\uCEE4\\uC11C\\uB97C \\uC62C\\uB9AC\\uBA74\"}),/*#__PURE__*/_jsx(TutirialText,{children:\"\\uC601\\uC0C1\\uC774 \\uC7AC\\uC0DD\\uB429\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(TutorialTextCover,{children:[/*#__PURE__*/_jsx(TutirialText2,{children:\"\\uD654\\uBA74\\uC744 \\uD074\\uB9AD\\uD558\\uBA74\"}),/*#__PURE__*/_jsx(TutirialText2,{children:\"\\uD654\\uBA74\\uC744 \\uD06C\\uAC8C\"}),/*#__PURE__*/_jsx(TutirialText2,{children:\"\\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(TutorialBgM,{onClick:mobile_chk,children:/*#__PURE__*/_jsxs(TutorialTextCover,{children:[/*#__PURE__*/_jsx(TutirialText,{children:\"\\uD654\\uBA74\\uC744 \\uD074\\uB9AD\\uD558\\uBA74\"}),/*#__PURE__*/_jsx(TutirialText,{children:\"\\uD654\\uBA74\\uC744 \\uD06C\\uAC8C\"}),/*#__PURE__*/_jsx(TutirialText,{children:\"\\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"})]})})})]});};var TutorialBgM=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  position: relative;\\n  height: 45rem;\\n  width: 25rem;\\n  margin-top: -47.6rem;\\n  z-index: 11;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n\"])));var TutorialTextCover=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\"])));TrilsTutorial.defaultProps={information:{id:1,likeNum:3000,modifiedAt:\"2021-05-14 00:00\",videoType:\"m3u8\",videoUrl:\"https://d1nogx3a73keco.cloudfront.net/video/tutorials/tutorials.m3u8\",posPlay:true,hashtag:[\"트리포트\",\"사용자가이드\"]},author:{nickname:\"Triport.kr\",profileImgUrl:\"https://i.ibb.co/MDKhN7F/kakao-11.jpg\"},member:{isMembers:false,isLike:true}};var TutorialBg=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  position: relative;\\n  height: 45rem;\\n  width: 25rem;\\n  margin-top: -47.6rem;\\n  z-index: 11;\\n  background-color: rgba(0, 0, 0, 0.5);\\n  justify-content: center;\\n  align-items: center;\\n  flex-direction: column;\\n  opacity: 1;\\n  transition: all 0.3s ease-in-out;\\n  :hover {\\n    & > :first-child > div {\\n      opacity: 0;\\n    }\\n    & > :last-child > div {\\n      opacity: 1;\\n    }\\n  }\\n\"])));var TutirialText=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  user-select: none;\\n  opacity: 1;\\n  color: white;\\n  z-index: 12;\\n  font-size: 3rem;\\n  transition: all 0.3s ease-in-out;\\n\"])));var TutirialText2=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  user-select: none;\\n  opacity: 0;\\n  color: white;\\n  z-index: 12;\\n  font-size: 3rem;\\n  transition: all 0.3s ease-in-out;\\n\"])));var Uploading=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  height: 45rem;\\n  width: 25rem;\\n  margin: 0 auto;\\n  background-image: url(\\\"\",\"\\\");\\n  background-size: contain;\\n\"])),function(props){return props.src;});var Hash=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  user-select: none;\\n  margin-left: 0.5rem;\\n  font-family: \\\"AppleSDGothicNeoR\\\";\\n  color: blue;\\n\"])));var PostBottom=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  margin-top: 1rem;\\n  margin-left: 10px;\\n  display: flex;\\n  flex-direction: row;\\n  margin-bottom: 0.5rem;\\n  flex-wrap: wrap;\\n\"])));var PostLikeCnt=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-family: \\\"AppleSDGothicNeoR\\\";\\n  display: flex;\\n  user-select: none;\\n\"])));var PostUserComment=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  font-family: \\\"AppleSDGothicNeoR\\\";\\n  display: flex;\\n  margin-left: 18px;\\n  cursor: pointer;\\n\"])));var VideoCards=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  max-width: 25rem;\\n  flex-direction: column;\\n  margin-bottom: 1.5rem;\\n  \",\";\\n  margin-top: 1rem;\\n  transition: 0.5s ease-in-out;\\n  @media only screen and (min-width: 1024px) {\\n    :hover {\\n      transform: scale(1.03);\\n    }\\n  }\\n  box-shadow: 0px 3px 6px #00000029;\\n\"])),function(props){return props.margin?\"margin-right:2.5rem\":\"\";});var VideoPlay=styled.video(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  display: flex;\\n  height: 45rem;\\n  width: 25rem;\\n  margin: 0 auto;\\n  object-fit: cover;\\n\"])));var Profile=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  user-select: none;\\n  margin-bottom: -3rem;\\n  display: flex;\\n  z-index: 5;\\n\"])));var ProfileImg=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  --size: 38px;\\n  width: var(--size);\\n  height: var(--size);\\n  border-radius: var(--size);\\n  background-position: center;\\n  background-image: url(\",\");\\n  background-color: white;\\n  background-size: cover;\\n  margin-left: 16px;\\n  display: flex;\\n\"])),function(props){return props.src;});var ProfileId=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  display: flex;\\n  font-weight: 600;\\n  font-size: 1rem;\\n  margin-left: 11px;\\n  align-items: center;\\n  /* background:white; */\\n  border-radius: 20px;\\n  width: 100px;\\n  color: white;\\n  text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;\\n\"])));var LikeCov=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  cursor: pointer;\\n  z-index: 10;\\n  & svg {\\n    width: 1.5rem;\\n  }\\n\"])));var BottomCov=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-right: 0.7rem;\\n\"])));export default TrilsTutorial;","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/components/trils/TrilsTutorial.js"],"names":["React","useRef","useState","useEffect","Fragment","styled","Hls","ProgressBar","HeartEmpty","HeartFill","Uploadex","Swal","TrilsTutorial","props","open","history","player","players","completed","setCompleted","check","navigator","userAgent","toLowerCase","is_iphone","indexOf","params","src","information","videoUrl","hls","undefined","isSupported","attachMedia","current","config","debug","on","Events","MEDIA_ATTACHED","event","data","loadSource","ERROR","fatal","type","ErrorTypes","NETWORK_ERROR","console","log","startLoad","MEDIA_ERROR","recoverMediaError","destroy","canPlayType","addEventListener","play","hlsplay","readyState","hlspause","pause","mp4play","mp4pause","like","fire","title","text","confirmButtonText","mobile_chk","push","author","profileImgUrl","nickname","posPlay","videoType","currentTime","duration","member","isLike","likeNum","hashtag","map","p","idx","window","innerWidth","TutorialBgM","div","TutorialTextCover","defaultProps","id","modifiedAt","isMembers","TutorialBg","TutirialText","TutirialText2","Uploading","Hash","PostBottom","PostLikeCnt","PostUserComment","VideoCards","margin","VideoPlay","video","Profile","ProfileImg","ProfileId","LikeCov","BottomCov"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, Fragment } from \"react\";\nimport styled from \"styled-components\";\nimport Hls from \"hls.js\";\nimport ProgressBar from \"./ProgressBar\";\nimport { HeartEmpty, HeartFill } from \"media/svg/Svg\";\nimport Uploadex from \"../../media/image/upload_ex.png\";\nimport Swal from \"sweetalert2\";\n\nconst TrilsTutorial = (props) => {\n  const { open, history } = props;\n  const player = useRef(null);\n  const players = useRef(null);\n  const [completed, setCompleted] = useState(0);\n  const check = navigator.userAgent.toLowerCase();\n  const is_iphone = check.indexOf(\"iphone\") !== -1;\n\n  const params = {\n    src: props.information.videoUrl,\n  };\n\n  useEffect(() => {\n    if (is_iphone) {\n      return;\n    }\n    const hls = new Hls();\n    if (hls === undefined) {\n      return;\n    }\n    if (Hls.isSupported()) {\n      hls.attachMedia(player.current);\n      hls.config.debug = false;\n\n      hls.on(Hls.Events.MEDIA_ATTACHED, (event, data) => {\n        hls.loadSource(params.src);\n      });\n      hls.on(Hls.Events.ERROR, (event, data) => {\n        if (data.fatal) {\n          switch (data.type) {\n            case Hls.ErrorTypes.NETWORK_ERROR:\n              console.log(\"네트워크 오류\");\n              hls.startLoad();\n              break;\n            case Hls.ErrorTypes.MEDIA_ERROR:\n              console.log(\"미디어 오류\");\n              hls.recoverMediaError();\n              break;\n            default:\n              hls.destroy();\n              break;\n          }\n        }\n      });\n      return () => hls.destroy();\n    } else if (player.current.canPlayType(\"application/vnd.apple.mpegurl\")) {\n      player.current.src = params.src;\n      player.current.addEventListener(\"loadedmetadata\", () => {\n        player.current.play();\n      });\n    }\n  }, [params.src]);\n\n  const hlsplay = () => {\n    if (player.current.readyState !== 4) {\n      return;\n    }\n    player.current.play();\n  };\n\n  const hlspause = () => {\n    if (player.current.readyState !== 4) {\n      return;\n    }\n    player.current.pause();\n  };\n\n  const mp4play = () => {\n    if (players.current.readyState !== 4) {\n      return;\n    }\n    players.current.play();\n  };\n\n  const mp4pause = () => {\n    if (players.current.readyState !== 4) {\n      return;\n    }\n    players.current.pause();\n  };\n\n  const like = () => {\n    Swal.fire({\n      title: \"좋아요 기능\",\n      text: \"로그인 후 좋아요를 누를 수 있습니다.\",\n      confirmButtonText: \"확인\",\n    });\n  };\n\n  const mobile_chk = () => {\n    history.push(\"/trils/tutorial\");\n  };\n\n  return (\n    <VideoCards>\n      <Profile>\n        <ProfileImg src={props.author.profileImgUrl} />\n        <ProfileId>{props.author.nickname}</ProfileId>\n      </Profile>\n      {is_iphone ? (\n        <VideoPlay src={params.src} loop autoPlay muted playsInline />\n      ) : (\n        <>\n          {props.information.posPlay ? (\n            <>\n              {props.information.videoType === \"mp4\" ||\n              props.information.videoType === \"mov\" ? (\n                <>\n                  <VideoPlay\n                    onMouseOver={mp4play}\n                    onMouseLeave={mp4pause}\n                    ref={players}\n                    src={params.src}\n                    muted\n                    loop\n                    onTimeUpdate={() => {\n                      setCompleted(\n                        (players.current.currentTime /\n                          players.current.duration) *\n                          100\n                      );\n                    }}\n                  />\n                </>\n              ) : (\n                <>\n                  <VideoPlay\n                    onMouseOver={hlsplay}\n                    onMouseLeave={hlspause}\n                    ref={player}\n                    muted\n                    loop\n                    onTimeUpdate={() => {\n                      setCompleted(\n                        (player.current.currentTime / player.current.duration) *\n                          100\n                      );\n                    }}\n                  />\n                </>\n              )}\n            </>\n          ) : (\n            <>\n              <Uploading src={Uploadex} />\n            </>\n          )}\n        </>\n      )}\n      <ProgressBar bgcolor={\"#6a1b9a\"} completed={completed} />\n      <PostBottom>\n        <BottomCov>\n          <LikeCov onClick={like}>\n            {props.member.isLike ? <HeartFill /> : <HeartEmpty />}\n          </LikeCov>\n        </BottomCov>\n        <PostLikeCnt>좋아요 +{props.information.likeNum}</PostLikeCnt>\n        <PostUserComment>\n          {props.information.hashtag.map((p, idx) => {\n            return (\n              <Fragment key={idx}>\n                <Hash>#{p}</Hash>\n              </Fragment>\n            );\n          })}\n        </PostUserComment>\n      </PostBottom>\n      {window.innerWidth > 1024 ? (\n        <TutorialBg\n          onMouseOver={hlsplay}\n          onMouseLeave={hlspause}\n          onClick={open}\n        >\n          <TutorialTextCover>\n            <TutirialText>커서를 올리면</TutirialText>\n            <TutirialText>영상이 재생됩니다.</TutirialText>\n          </TutorialTextCover>\n          <TutorialTextCover>\n            <TutirialText2>화면을 클릭하면</TutirialText2>\n            <TutirialText2>화면을 크게</TutirialText2>\n            <TutirialText2>볼 수 있습니다.</TutirialText2>\n          </TutorialTextCover>\n        </TutorialBg>\n      ) : (\n        <>\n          <TutorialBgM onClick={mobile_chk}>\n            <TutorialTextCover>\n              <TutirialText>화면을 클릭하면</TutirialText>\n              <TutirialText>화면을 크게</TutirialText>\n              <TutirialText>볼 수 있습니다.</TutirialText>\n            </TutorialTextCover>\n          </TutorialBgM>\n        </>\n      )}\n    </VideoCards>\n  );\n};\n\nconst TutorialBgM = styled.div`\n  display: flex;\n  position: relative;\n  height: 45rem;\n  width: 25rem;\n  margin-top: -47.6rem;\n  z-index: 11;\n  background-color: rgba(0, 0, 0, 0.5);\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst TutorialTextCover = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nTrilsTutorial.defaultProps = {\n  information: {\n    id: 1,\n    likeNum: 3000,\n    modifiedAt: \"2021-05-14 00:00\",\n    videoType: \"m3u8\",\n    videoUrl:\n      \"https://d1nogx3a73keco.cloudfront.net/video/tutorials/tutorials.m3u8\",\n    posPlay: true,\n    hashtag: [\"트리포트\", \"사용자가이드\"],\n  },\n  author: {\n    nickname: \"Triport.kr\",\n    profileImgUrl: \"https://i.ibb.co/MDKhN7F/kakao-11.jpg\",\n  },\n  member: { isMembers: false, isLike: true },\n};\n\nconst TutorialBg = styled.div`\n  display: flex;\n  position: relative;\n  height: 45rem;\n  width: 25rem;\n  margin-top: -47.6rem;\n  z-index: 11;\n  background-color: rgba(0, 0, 0, 0.5);\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  opacity: 1;\n  transition: all 0.3s ease-in-out;\n  :hover {\n    & > :first-child > div {\n      opacity: 0;\n    }\n    & > :last-child > div {\n      opacity: 1;\n    }\n  }\n`;\n\nconst TutirialText = styled.div`\n  user-select: none;\n  opacity: 1;\n  color: white;\n  z-index: 12;\n  font-size: 3rem;\n  transition: all 0.3s ease-in-out;\n`;\n\nconst TutirialText2 = styled.div`\n  user-select: none;\n  opacity: 0;\n  color: white;\n  z-index: 12;\n  font-size: 3rem;\n  transition: all 0.3s ease-in-out;\n`;\n\nconst Uploading = styled.div`\n  display: flex;\n  height: 45rem;\n  width: 25rem;\n  margin: 0 auto;\n  background-image: url(\"${(props) => props.src}\");\n  background-size: contain;\n`;\n\nconst Hash = styled.div`\n  user-select: none;\n  margin-left: 0.5rem;\n  font-family: \"AppleSDGothicNeoR\";\n  color: blue;\n`;\n\nconst PostBottom = styled.div`\n  margin-top: 1rem;\n  margin-left: 10px;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 0.5rem;\n  flex-wrap: wrap;\n`;\n\nconst PostLikeCnt = styled.div`\n  font-family: \"AppleSDGothicNeoR\";\n  display: flex;\n  user-select: none;\n`;\n\nconst PostUserComment = styled.div`\n  font-family: \"AppleSDGothicNeoR\";\n  display: flex;\n  margin-left: 18px;\n  cursor: pointer;\n`;\n\nconst VideoCards = styled.div`\n  display: flex;\n  max-width: 25rem;\n  flex-direction: column;\n  margin-bottom: 1.5rem;\n  ${(props) => (props.margin ? \"margin-right:2.5rem\" : \"\")};\n  margin-top: 1rem;\n  transition: 0.5s ease-in-out;\n  @media only screen and (min-width: 1024px) {\n    :hover {\n      transform: scale(1.03);\n    }\n  }\n  box-shadow: 0px 3px 6px #00000029;\n`;\n\nconst VideoPlay = styled.video`\n  display: flex;\n  height: 45rem;\n  width: 25rem;\n  margin: 0 auto;\n  object-fit: cover;\n`;\n\nconst Profile = styled.div`\n  user-select: none;\n  margin-bottom: -3rem;\n  display: flex;\n  z-index: 5;\n`;\n\nconst ProfileImg = styled.div`\n  --size: 38px;\n  width: var(--size);\n  height: var(--size);\n  border-radius: var(--size);\n  background-position: center;\n  background-image: url(${(props) => props.src});\n  background-color: white;\n  background-size: cover;\n  margin-left: 16px;\n  display: flex;\n`;\n\nconst ProfileId = styled.div`\n  display: flex;\n  font-weight: 600;\n  font-size: 1rem;\n  margin-left: 11px;\n  align-items: center;\n  /* background:white; */\n  border-radius: 20px;\n  width: 100px;\n  color: white;\n  text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;\n`;\n\nconst LikeCov = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  z-index: 10;\n  & svg {\n    width: 1.5rem;\n  }\n`;\nconst BottomCov = styled.div`\n  display: flex;\n  margin-right: 0.7rem;\n`;\n\nexport default TrilsTutorial;\n"]},"metadata":{},"sourceType":"module"}