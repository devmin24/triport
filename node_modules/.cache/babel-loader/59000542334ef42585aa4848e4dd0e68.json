{"ast":null,"code":"var _jsxFileName = \"/Users/parkminkyung/Desktop/git/triport/src/pages/BoardDetail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { BoardView, BoardComment, BoardDetailMap } from \"components/components\";\nimport { LikeFill, LikeEmpty } from \"media/svg/Svg\";\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\nimport { useDispatch, useSelector } from 'react-redux';\nimport InfinityScroll from \"shared/InfinityScroll\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst BoardDetail = props => {\n  _s();\n\n  const id = props.match.params.id;\n  const dispatch = useDispatch();\n  const is_login = useSelector(state => state.user.is_login);\n  const detail = useSelector(state => state.trilog.detail);\n  const comment = useSelector(state => state.trilog.parent_comment.list);\n  const is_last = useSelector(state => state.trilog.parent_comment.is_last);\n  const commentRef = React.useRef('');\n  React.useEffect(() => {\n    dispatch(TrilogActions.getTrilogDetail(id));\n  }, []);\n\n  const postParentComment = () => {\n    if (!is_login) {\n      alert(\"로그인을 먼저 하세요!\");\n      return;\n    }\n\n    dispatch(TrilogActions.addParentComment(id, commentRef.current.value));\n    document.getElementById('commentInput').value = ''; // 초기화\n  };\n\n  const hitLike = () => {\n    if (!is_login) {\n      alert(\"로그인을 먼저 하세요!\");\n      return;\n    }\n\n    dispatch(TrilogActions.setLikeTrilogDetail(id));\n  };\n\n  const getMorecomment = () => {\n    console.log('comment scroll');\n    dispatch(TrilogActions.getParentCommentScroll(id));\n  };\n\n  return /*#__PURE__*/_jsxDEV(DetailContainer, {\n    children: [/*#__PURE__*/_jsxDEV(UserContainer, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: detail.author.profileImgUrl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: detail.author.nickname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"\\uB9C8\\uC9C0\\uB9C9 \\uC218\\uC815\\uC2DC\\uAC04 : \", detail.information.modifiedAt, detail.member.isMembers ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"\\uC218\\uC815\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 52\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 87\n          }, this), \" \"]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ToastViewContainer, {\n      children: detail.information.description === '' ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BoardView, {\n        content: detail.information.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 69\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(MapConatiner, {\n      children: detail.information.address === '지도 마커를 클릭하시면 주소가 여기 표시됩니다.' ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(BoardDetailMap, {\n        address: detail.information.address\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 91\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LikeCommentContainer, {\n      children: [/*#__PURE__*/_jsxDEV(Infomation, {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: hitLike,\n          children: detail.member.isLike ? /*#__PURE__*/_jsxDEV(LikeFill, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(LikeEmpty, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 70\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uC88B\\uC544\\uC694+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(LikeCount, {\n            children: detail.information.likeNum\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uB313\\uAE00+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(CommentCount, {\n            children: detail.information.commentNum\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(CommentInput, {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"commentInput\",\n          type: \"text\",\n          placeholder: \"\\uB313\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694.\",\n          ref: commentRef,\n          onKeyPress: e => {\n            if (window.event.keyCode === 13) {\n              postParentComment();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Separator, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), comment.map((val, index) => {\n        return /*#__PURE__*/_jsxDEV(BoardComment, {\n          id: id,\n          comment: val\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 29\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), is_last ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(ShowMoreComment, {\n      children: /*#__PURE__*/_jsxDEV(\"span\", {\n        onClick: getMorecomment,\n        children: \"\\uB313\\uAE00 \\uB354 \\uBCF4\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 52\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 35\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n\n_s(BoardDetail, \"suhsINJFqbbPUku8COGIRiNryBM=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = BoardDetail;\nconst Separator = styled.hr`\n  color: #89acff;\n  opacity: 0.5;\n  margin: 0.75rem 0;\n`;\n_c2 = Separator;\nconst DetailContainer = styled.div`\n  width: 1280px;\n  margin: 0 auto;\n  position: relative;\n`;\n_c3 = DetailContainer;\nconst UserContainer = styled.div`\n    display: flex;\n    align-items: center;\n    width: 100%;\n    justify-content: space-between;\n    font-family: AppleSDGothicNeoB;\n\n    & img {\n        width: 2.375rem;\n        border-radius: 50%;\n        margin-right: .5rem;\n    }\n\n    & div {\n        display: flex;\n        align-items: center;\n    }\n`;\n_c4 = UserContainer;\nconst LikeCount = styled.span`\n  margin-right: 0.5rem;\n`;\n_c5 = LikeCount;\nconst CommentCount = styled.span``;\n_c6 = CommentCount;\nconst ToastViewContainer = styled.div``;\n_c7 = ToastViewContainer;\nconst MapConatiner = styled.div``;\n_c8 = MapConatiner;\nconst LikeCommentContainer = styled.div`\n  width: 100%;\n`;\n_c9 = LikeCommentContainer;\nconst Infomation = styled.div`\n  display: flex;\n  align-items: center;\n  font-family: \"AppleSDGothicNeoR\";\n\n  & svg {\n    cursor: pointer;\n    width: 3.2rem;\n  }\n`;\n_c10 = Infomation;\nconst CommentInput = styled.div`\n  display: flex;\n  align-items: center;\n  margin: 0.5rem 0;\n  width: 100%;\n\n  & input {\n    outline: none;\n    border: 0;\n    box-sizing: border-box;\n    width: 100%;\n    height: 40px;\n    border: 1px solid #707070;\n    border-radius: 5px;\n    padding: 0 1rem;\n  }\n`;\n_c11 = CommentInput;\nconst ShowMoreComment = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  & span {\n      cursor: pointer;\n  }\n`;\n_c12 = ShowMoreComment;\nexport default BoardDetail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n\n$RefreshReg$(_c, \"BoardDetail\");\n$RefreshReg$(_c2, \"Separator\");\n$RefreshReg$(_c3, \"DetailContainer\");\n$RefreshReg$(_c4, \"UserContainer\");\n$RefreshReg$(_c5, \"LikeCount\");\n$RefreshReg$(_c6, \"CommentCount\");\n$RefreshReg$(_c7, \"ToastViewContainer\");\n$RefreshReg$(_c8, \"MapConatiner\");\n$RefreshReg$(_c9, \"LikeCommentContainer\");\n$RefreshReg$(_c10, \"Infomation\");\n$RefreshReg$(_c11, \"CommentInput\");\n$RefreshReg$(_c12, \"ShowMoreComment\");","map":{"version":3,"sources":["/Users/parkminkyung/Desktop/git/triport/src/pages/BoardDetail.js"],"names":["React","styled","BoardView","BoardComment","BoardDetailMap","LikeFill","LikeEmpty","actionCreators","TrilogActions","useDispatch","useSelector","InfinityScroll","BoardDetail","props","id","match","params","dispatch","is_login","state","user","detail","trilog","comment","parent_comment","list","is_last","commentRef","useRef","useEffect","getTrilogDetail","postParentComment","alert","addParentComment","current","value","document","getElementById","hitLike","setLikeTrilogDetail","getMorecomment","console","log","getParentCommentScroll","author","profileImgUrl","nickname","information","modifiedAt","member","isMembers","description","address","isLike","likeNum","commentNum","e","window","event","keyCode","map","val","index","Separator","hr","DetailContainer","div","UserContainer","LikeCount","span","CommentCount","ToastViewContainer","MapConatiner","LikeCommentContainer","Infomation","CommentInput","ShowMoreComment"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { BoardView, BoardComment, BoardDetailMap } from \"components/components\";\r\nimport { LikeFill, LikeEmpty } from \"media/svg/Svg\";\r\nimport { actionCreators as TrilogActions } from 'redux/modules/trilog';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport InfinityScroll from \"shared/InfinityScroll\";\r\n\r\nconst BoardDetail = (props) => {\r\n    const id = props.match.params.id;\r\n    const dispatch = useDispatch();\r\n    const is_login = useSelector((state) => state.user.is_login);\r\n    const detail = useSelector((state) => state.trilog.detail);\r\n    const comment = useSelector((state) => state.trilog.parent_comment.list);\r\n    const is_last = useSelector((state) => state.trilog.parent_comment.is_last);\r\n    const commentRef = React.useRef('');\r\n\r\n    React.useEffect(() => {\r\n        dispatch(TrilogActions.getTrilogDetail(id));\r\n    }, []);\r\n\r\n    const postParentComment = () => {\r\n        if(!is_login) {\r\n            alert(\"로그인을 먼저 하세요!\");\r\n            return;\r\n        }\r\n        dispatch(TrilogActions.addParentComment(id, commentRef.current.value));\r\n        document.getElementById('commentInput').value = ''; // 초기화\r\n    };\r\n\r\n    const hitLike = () => {\r\n        if(!is_login) {\r\n            alert(\"로그인을 먼저 하세요!\");\r\n            return;\r\n        }\r\n        dispatch(TrilogActions.setLikeTrilogDetail(id));\r\n    };\r\n\r\n    const getMorecomment = () => {\r\n        console.log('comment scroll');\r\n        dispatch(TrilogActions.getParentCommentScroll(id));\r\n    };\r\n\r\n    return(\r\n        <DetailContainer>\r\n            <UserContainer>\r\n                <div>\r\n                    <img src={detail.author.profileImgUrl} />\r\n                    <span>{detail.author.nickname}</span>\r\n                </div>\r\n                <div>\r\n                    마지막 수정시간 : {detail.information.modifiedAt}\r\n                    {detail.member.isMembers ? (<> <input type=\"button\" value=\"수정\" /> <input type=\"button\" value=\"삭제\" /> </>) : (<></>) }\r\n                </div>\r\n            </UserContainer>\r\n            <Separator/>\r\n            <ToastViewContainer>\r\n                {detail.information.description === '' ? (<></>) : (<BoardView content={detail.information.description} />) }\r\n            </ToastViewContainer>\r\n            <MapConatiner>\r\n                {detail.information.address === '지도 마커를 클릭하시면 주소가 여기 표시됩니다.' ? (<></>) : (<BoardDetailMap address={detail.information.address} />) }\r\n            </MapConatiner>\r\n            <Separator/>\r\n            <LikeCommentContainer>\r\n                <Infomation>\r\n                    <span onClick={hitLike}>\r\n                        { detail.member.isLike ? ( <LikeFill/> ) : ( <LikeEmpty/> ) }\r\n                    </span>\r\n                    <div>\r\n                        <span>좋아요+</span>\r\n                        <LikeCount>{detail.information.likeNum}</LikeCount>\r\n                    </div>\r\n                    <div>\r\n                        <span>댓글+</span>\r\n                        <CommentCount>{detail.information.commentNum}</CommentCount>\r\n                    </div>\r\n                </Infomation>\r\n                <CommentInput>\r\n                    <input id=\"commentInput\" type=\"text\" placeholder=\"댓글을 입력하세요.\" ref={commentRef} onKeyPress={(e) => {\r\n                        if(window.event.keyCode === 13) {\r\n                            postParentComment();\r\n                        } \r\n                    }}/>\r\n                </CommentInput>\r\n                <Separator />\r\n                    {comment.map((val, index) => {\r\n                        return(\r\n                            <BoardComment id={id} comment={val} key={index} />\r\n                        );\r\n                    })}\r\n            </LikeCommentContainer>\r\n            {is_last ? (<></>) : (<ShowMoreComment><span onClick={getMorecomment}>댓글 더 보기</span></ShowMoreComment>)}      \r\n        </DetailContainer>\r\n    );\r\n};\r\n\r\nconst Separator = styled.hr`\r\n  color: #89acff;\r\n  opacity: 0.5;\r\n  margin: 0.75rem 0;\r\n`;\r\n\r\nconst DetailContainer = styled.div`\r\n  width: 1280px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n`;\r\n\r\nconst UserContainer = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    font-family: AppleSDGothicNeoB;\r\n\r\n    & img {\r\n        width: 2.375rem;\r\n        border-radius: 50%;\r\n        margin-right: .5rem;\r\n    }\r\n\r\n    & div {\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nconst LikeCount = styled.span`\r\n  margin-right: 0.5rem;\r\n`;\r\n\r\nconst CommentCount = styled.span``;\r\n\r\nconst ToastViewContainer = styled.div``;\r\n\r\nconst MapConatiner = styled.div``;\r\n\r\nconst LikeCommentContainer = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst Infomation = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  font-family: \"AppleSDGothicNeoR\";\r\n\r\n  & svg {\r\n    cursor: pointer;\r\n    width: 3.2rem;\r\n  }\r\n`;\r\n\r\nconst CommentInput = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin: 0.5rem 0;\r\n  width: 100%;\r\n\r\n  & input {\r\n    outline: none;\r\n    border: 0;\r\n    box-sizing: border-box;\r\n    width: 100%;\r\n    height: 40px;\r\n    border: 1px solid #707070;\r\n    border-radius: 5px;\r\n    padding: 0 1rem;\r\n  }\r\n`;\r\n\r\nconst ShowMoreComment = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  & span {\r\n      cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default BoardDetail;\r\n"]},"metadata":{},"sourceType":"module"}